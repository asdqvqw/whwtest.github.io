{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, ref, defineComponent, computed, provide, watch, toRef, nextTick, withDirectives, vShow, watchEffect, cloneVNode, TransitionGroup } from 'vue';\nimport { VResizeObserver, VXScroll } from 'vueuc';\nimport { throttle } from 'lodash-es';\nimport { useCompitable, onFontsReady, useMergedState } from 'vooks';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey, call, flatten, warnOnce, resolveWrappedSlot } from '../../_utils';\nimport { tabsLight } from '../styles';\nimport { tabsInjectionKey } from './interface';\nimport Tab from './Tab';\nimport style from './styles/index.cssr';\nimport { getPadding } from 'seemly';\nexport const tabsProps = Object.assign(Object.assign({}, useTheme.props), {\n  value: [String, Number],\n  defaultValue: [String, Number],\n  trigger: {\n    type: String,\n    default: 'click'\n  },\n  type: {\n    type: String,\n    default: 'bar'\n  },\n  closable: Boolean,\n  justifyContent: String,\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  tabStyle: [String, Object],\n  barWidth: Number,\n  paneClass: String,\n  paneStyle: [String, Object],\n  paneWrapperClass: String,\n  paneWrapperStyle: [String, Object],\n  addable: [Boolean, Object],\n  tabsPadding: {\n    type: Number,\n    default: 0\n  },\n  animated: Boolean,\n  onBeforeLeave: Function,\n  onAdd: Function,\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array],\n  onClose: [Function, Array],\n  // deprecated\n  labelSize: String,\n  activeName: [String, Number],\n  onActiveNameChange: [Function, Array]\n});\nexport default defineComponent({\n  name: 'Tabs',\n  props: tabsProps,\n  setup(props, {\n    slots\n  }) {\n    var _a, _b, _c, _d;\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.labelSize !== undefined) {\n          warnOnce('tabs', '`label-size` is deprecated, please use `size` instead.');\n        }\n        if (props.activeName !== undefined) {\n          warnOnce('tabs', '`active-name` is deprecated, please use `value` instead.');\n        }\n        if (props.onActiveNameChange !== undefined) {\n          warnOnce('tabs', '`on-active-name-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Tabs', '-tabs', style, tabsLight, props, mergedClsPrefixRef);\n    const tabsElRef = ref(null);\n    const barElRef = ref(null);\n    const scrollWrapperElRef = ref(null);\n    const addTabInstRef = ref(null);\n    const xScrollInstRef = ref(null);\n    const startReachedRef = ref(true);\n    const endReachedRef = ref(true);\n    const compitableSizeRef = useCompitable(props, ['labelSize', 'size']);\n    const compitableValueRef = useCompitable(props, ['activeName', 'value']);\n    const uncontrolledValueRef = ref((_b = (_a = compitableValueRef.value) !== null && _a !== void 0 ? _a : props.defaultValue) !== null && _b !== void 0 ? _b : slots.default ? (_d = (_c = flatten(slots.default())[0]) === null || _c === void 0 ? void 0 : _c.props) === null || _d === void 0 ? void 0 : _d.name : null);\n    const mergedValueRef = useMergedState(compitableValueRef, uncontrolledValueRef);\n    const tabChangeIdRef = {\n      id: 0\n    };\n    const tabWrapperStyleRef = computed(() => {\n      if (!props.justifyContent || props.type === 'card') return undefined;\n      return {\n        display: 'flex',\n        justifyContent: props.justifyContent\n      };\n    });\n    watch(mergedValueRef, () => {\n      tabChangeIdRef.id = 0;\n      updateCurrentBarStyle();\n      updateCurrentScrollPosition(true);\n    });\n    function getCurrentEl() {\n      var _a;\n      const {\n        value\n      } = mergedValueRef;\n      if (value === null) return null;\n      const tabEl = (_a = tabsElRef.value) === null || _a === void 0 ? void 0 : _a.querySelector(`[data-name=\"${value}\"]`);\n      return tabEl;\n    }\n    function updateBarStyle(tabEl) {\n      if (props.type === 'card') return;\n      const {\n        value: barEl\n      } = barElRef;\n      if (!barEl) return;\n      if (tabEl) {\n        const disabledClassName = `${mergedClsPrefixRef.value}-tabs-bar--disabled`;\n        const {\n          barWidth,\n          placement\n        } = props;\n        if (tabEl.dataset.disabled === 'true') {\n          barEl.classList.add(disabledClassName);\n        } else {\n          barEl.classList.remove(disabledClassName);\n        }\n        if (['top', 'bottom'].includes(placement)) {\n          clearBarStyle(['top', 'maxHeight', 'height']);\n          if (typeof barWidth === 'number' && tabEl.offsetWidth >= barWidth) {\n            const offsetDiffLeft = Math.floor((tabEl.offsetWidth - barWidth) / 2) + tabEl.offsetLeft;\n            barEl.style.left = `${offsetDiffLeft}px`;\n            barEl.style.maxWidth = `${barWidth}px`;\n          } else {\n            barEl.style.left = `${tabEl.offsetLeft}px`;\n            barEl.style.maxWidth = `${tabEl.offsetWidth}px`;\n          }\n          barEl.style.width = '8192px';\n          void barEl.offsetWidth;\n        } else {\n          clearBarStyle(['left', 'maxWidth', 'width']);\n          if (typeof barWidth === 'number' && tabEl.offsetHeight >= barWidth) {\n            const offsetDiffTop = Math.floor((tabEl.offsetHeight - barWidth) / 2) + tabEl.offsetTop;\n            barEl.style.top = `${offsetDiffTop}px`;\n            barEl.style.maxHeight = `${barWidth}px`;\n          } else {\n            barEl.style.top = `${tabEl.offsetTop}px`;\n            barEl.style.maxHeight = `${tabEl.offsetHeight}px`;\n          }\n          barEl.style.height = '8192px';\n          void barEl.offsetHeight;\n        }\n      }\n    }\n    function clearBarStyle(styleProps) {\n      const {\n        value: barEl\n      } = barElRef;\n      if (!barEl) return;\n      for (const prop of styleProps) {\n        barEl.style[prop] = '';\n      }\n    }\n    function updateCurrentBarStyle() {\n      if (props.type === 'card') return;\n      const tabEl = getCurrentEl();\n      if (tabEl) {\n        updateBarStyle(tabEl);\n      }\n    }\n    function updateCurrentScrollPosition(smooth) {\n      var _a;\n      const scrollWrapperEl = (_a = xScrollInstRef.value) === null || _a === void 0 ? void 0 : _a.$el;\n      if (!scrollWrapperEl) return;\n      const tabEl = getCurrentEl();\n      if (!tabEl) return;\n      const {\n        scrollLeft: scrollWrapperElScrollLeft,\n        offsetWidth: scrollWrapperElOffsetWidth\n      } = scrollWrapperEl;\n      const {\n        offsetLeft: tabElOffsetLeft,\n        offsetWidth: tabElOffsetWidth\n      } = tabEl;\n      if (scrollWrapperElScrollLeft > tabElOffsetLeft) {\n        scrollWrapperEl.scrollTo({\n          top: 0,\n          left: tabElOffsetLeft,\n          behavior: 'smooth'\n        });\n      } else if (tabElOffsetLeft + tabElOffsetWidth > scrollWrapperElScrollLeft + scrollWrapperElOffsetWidth) {\n        scrollWrapperEl.scrollTo({\n          top: 0,\n          left: tabElOffsetLeft + tabElOffsetWidth - scrollWrapperElOffsetWidth,\n          behavior: 'smooth'\n        });\n      }\n    }\n    const tabsPaneWrapperRef = ref(null);\n    let fromHeight = 0;\n    let hangingTransition = null;\n    function onAnimationBeforeLeave(el) {\n      const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n      if (tabsPaneWrapperEl) {\n        fromHeight = el.getBoundingClientRect().height;\n        const fromHeightPx = `${fromHeight}px`;\n        const applyFromStyle = () => {\n          tabsPaneWrapperEl.style.height = fromHeightPx;\n          tabsPaneWrapperEl.style.maxHeight = fromHeightPx;\n        };\n        if (!hangingTransition) {\n          hangingTransition = applyFromStyle;\n        } else {\n          applyFromStyle();\n          hangingTransition();\n          hangingTransition = null;\n        }\n      }\n    }\n    function onAnimationEnter(el) {\n      const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n      if (tabsPaneWrapperEl) {\n        const targetHeight = el.getBoundingClientRect().height;\n        const applyTargetStyle = () => {\n          void document.body.offsetHeight;\n          tabsPaneWrapperEl.style.maxHeight = `${targetHeight}px`;\n          tabsPaneWrapperEl.style.height = `${Math.max(fromHeight, targetHeight)}px`;\n        };\n        if (!hangingTransition) {\n          hangingTransition = applyTargetStyle;\n        } else {\n          hangingTransition();\n          hangingTransition = null;\n          applyTargetStyle();\n        }\n      }\n    }\n    function onAnimationAfterEnter() {\n      const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n      if (tabsPaneWrapperEl) {\n        tabsPaneWrapperEl.style.maxHeight = '';\n        tabsPaneWrapperEl.style.height = '';\n        const {\n          paneWrapperStyle\n        } = props;\n        if (typeof paneWrapperStyle === 'string') {\n          tabsPaneWrapperEl.style.cssText = paneWrapperStyle;\n        } else if (paneWrapperStyle) {\n          const {\n            maxHeight,\n            height\n          } = paneWrapperStyle;\n          if (maxHeight !== undefined) {\n            tabsPaneWrapperEl.style.maxHeight = maxHeight;\n          }\n          if (height !== undefined) {\n            tabsPaneWrapperEl.style.height = height;\n          }\n        }\n      }\n    }\n    const renderNameListRef = {\n      value: []\n    };\n    const animationDirectionRef = ref('next');\n    function activateTab(panelName) {\n      const currentValue = mergedValueRef.value;\n      let dir = 'next';\n      for (const name of renderNameListRef.value) {\n        if (name === currentValue) {\n          break;\n        }\n        if (name === panelName) {\n          dir = 'prev';\n          break;\n        }\n      }\n      animationDirectionRef.value = dir;\n      doUpdateValue(panelName);\n    }\n    function doUpdateValue(panelName) {\n      const {\n        onActiveNameChange,\n        onUpdateValue,\n        'onUpdate:value': _onUpdateValue\n      } = props;\n      if (onActiveNameChange) {\n        call(onActiveNameChange, panelName);\n      }\n      if (onUpdateValue) call(onUpdateValue, panelName);\n      if (_onUpdateValue) call(_onUpdateValue, panelName);\n      uncontrolledValueRef.value = panelName;\n    }\n    function handleClose(panelName) {\n      const {\n        onClose\n      } = props;\n      if (onClose) call(onClose, panelName);\n    }\n    let firstTimeUpdatePosition = true;\n    function updateBarPositionInstantly() {\n      const {\n        value: barEl\n      } = barElRef;\n      if (!barEl) return;\n      if (!firstTimeUpdatePosition) firstTimeUpdatePosition = false;\n      const disableTransitionClassName = 'transition-disabled';\n      barEl.classList.add(disableTransitionClassName);\n      updateCurrentBarStyle();\n      // here we don't need to force layout after update bar style\n      // since deriveScrollShadow will force layout\n      barEl.classList.remove(disableTransitionClassName);\n    }\n    let memorizedWidth = 0;\n    function _handleNavResize(entry) {\n      var _a, _b;\n      if (entry.contentRect.width === 0 && entry.contentRect.height === 0) {\n        return;\n      }\n      if (memorizedWidth === entry.contentRect.width) {\n        return;\n      }\n      memorizedWidth = entry.contentRect.width;\n      const {\n        type\n      } = props;\n      if (type === 'line' || type === 'bar') {\n        if (firstTimeUpdatePosition || ((_a = props.justifyContent) === null || _a === void 0 ? void 0 : _a.startsWith('space'))) {\n          updateBarPositionInstantly();\n        }\n      }\n      if (type !== 'segment') {\n        deriveScrollShadow(((_b = xScrollInstRef.value) === null || _b === void 0 ? void 0 : _b.$el) || null);\n      }\n    }\n    const handleNavResize = throttle(_handleNavResize, 64);\n    watch([() => props.justifyContent, () => props.size], () => {\n      void nextTick(() => {\n        const {\n          type\n        } = props;\n        if (type === 'line' || type === 'bar') {\n          updateBarPositionInstantly();\n        }\n      });\n    });\n    const addTabFixedRef = ref(false);\n    function _handleTabsResize(entry) {\n      var _a;\n      const {\n        target,\n        contentRect: {\n          width\n        }\n      } = entry;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const containerWidth = target.parentElement.offsetWidth;\n      if (!addTabFixedRef.value) {\n        if (containerWidth < width) {\n          addTabFixedRef.value = true;\n        }\n      } else {\n        const {\n          value: addTabInst\n        } = addTabInstRef;\n        if (!addTabInst) return;\n        if (containerWidth - width > addTabInst.$el.offsetWidth) {\n          addTabFixedRef.value = false;\n        }\n      }\n      deriveScrollShadow(((_a = xScrollInstRef.value) === null || _a === void 0 ? void 0 : _a.$el) || null);\n    }\n    const handleTabsResize = throttle(_handleTabsResize, 64);\n    function handleAdd() {\n      const {\n        onAdd\n      } = props;\n      if (onAdd) onAdd();\n      void nextTick(() => {\n        const currentEl = getCurrentEl();\n        const {\n          value: xScrollInst\n        } = xScrollInstRef;\n        if (!currentEl || !xScrollInst) return;\n        xScrollInst.scrollTo({\n          left: currentEl.offsetLeft,\n          top: 0,\n          behavior: 'smooth'\n        });\n      });\n    }\n    function deriveScrollShadow(el) {\n      if (!el) return;\n      const {\n        placement\n      } = props;\n      if (placement === 'top' || placement === 'bottom') {\n        const {\n          scrollLeft,\n          scrollWidth,\n          offsetWidth\n        } = el;\n        startReachedRef.value = scrollLeft <= 0;\n        endReachedRef.value = scrollLeft + offsetWidth >= scrollWidth;\n      } else {\n        const {\n          scrollTop,\n          scrollHeight,\n          offsetHeight\n        } = el;\n        startReachedRef.value = scrollTop <= 0;\n        endReachedRef.value = scrollTop + offsetHeight >= scrollHeight;\n      }\n    }\n    const handleScroll = throttle(e => {\n      deriveScrollShadow(e.target);\n    }, 64);\n    provide(tabsInjectionKey, {\n      triggerRef: toRef(props, 'trigger'),\n      tabStyleRef: toRef(props, 'tabStyle'),\n      paneClassRef: toRef(props, 'paneClass'),\n      paneStyleRef: toRef(props, 'paneStyle'),\n      mergedClsPrefixRef,\n      typeRef: toRef(props, 'type'),\n      closableRef: toRef(props, 'closable'),\n      valueRef: mergedValueRef,\n      tabChangeIdRef,\n      onBeforeLeaveRef: toRef(props, 'onBeforeLeave'),\n      activateTab,\n      handleClose,\n      handleAdd\n    });\n    onFontsReady(() => {\n      updateCurrentBarStyle();\n      updateCurrentScrollPosition(true);\n    });\n    // avoid useless rerender\n    watchEffect(() => {\n      const {\n        value: el\n      } = scrollWrapperElRef;\n      if (!el) return;\n      const {\n        value: clsPrefix\n      } = mergedClsPrefixRef;\n      const shadowStartClass = `${clsPrefix}-tabs-nav-scroll-wrapper--shadow-start`;\n      const shadowEndClass = `${clsPrefix}-tabs-nav-scroll-wrapper--shadow-end`;\n      if (startReachedRef.value) {\n        el.classList.remove(shadowStartClass);\n      } else {\n        el.classList.add(shadowStartClass);\n      }\n      if (endReachedRef.value) {\n        el.classList.remove(shadowEndClass);\n      } else {\n        el.classList.add(shadowEndClass);\n      }\n    });\n    const tabsRailElRef = ref(null);\n    watch(mergedValueRef, () => {\n      if (props.type === 'segment') {\n        const tabsRailEl = tabsRailElRef.value;\n        if (tabsRailEl) {\n          void nextTick(() => {\n            tabsRailEl.classList.add('transition-disabled');\n            void tabsRailEl.offsetWidth;\n            tabsRailEl.classList.remove('transition-disabled');\n          });\n        }\n      }\n    });\n    const exposedMethods = {\n      syncBarPosition: () => {\n        updateCurrentBarStyle();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        value: size\n      } = compitableSizeRef;\n      const {\n        type\n      } = props;\n      const typeSuffix = {\n        card: 'Card',\n        bar: 'Bar',\n        line: 'Line',\n        segment: 'Segment'\n      }[type];\n      const sizeType = `${size}${typeSuffix}`;\n      const {\n        self: {\n          barColor,\n          closeIconColor,\n          closeIconColorHover,\n          closeIconColorPressed,\n          tabColor,\n          tabBorderColor,\n          paneTextColor,\n          tabFontWeight,\n          tabBorderRadius,\n          tabFontWeightActive,\n          colorSegment,\n          fontWeightStrong,\n          tabColorSegment,\n          closeSize,\n          closeIconSize,\n          closeColorHover,\n          closeColorPressed,\n          closeBorderRadius,\n          [createKey('panePadding', size)]: panePadding,\n          [createKey('tabPadding', sizeType)]: tabPadding,\n          [createKey('tabPaddingVertical', sizeType)]: tabPaddingVertical,\n          [createKey('tabGap', sizeType)]: tabGap,\n          [createKey('tabGap', `${sizeType}Vertical`)]: tabGapVertical,\n          [createKey('tabTextColor', type)]: tabTextColor,\n          [createKey('tabTextColorActive', type)]: tabTextColorActive,\n          [createKey('tabTextColorHover', type)]: tabTextColorHover,\n          [createKey('tabTextColorDisabled', type)]: tabTextColorDisabled,\n          [createKey('tabFontSize', size)]: tabFontSize\n        },\n        common: {\n          cubicBezierEaseInOut\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-color-segment': colorSegment,\n        '--n-bar-color': barColor,\n        '--n-tab-font-size': tabFontSize,\n        '--n-tab-text-color': tabTextColor,\n        '--n-tab-text-color-active': tabTextColorActive,\n        '--n-tab-text-color-disabled': tabTextColorDisabled,\n        '--n-tab-text-color-hover': tabTextColorHover,\n        '--n-pane-text-color': paneTextColor,\n        '--n-tab-border-color': tabBorderColor,\n        '--n-tab-border-radius': tabBorderRadius,\n        '--n-close-size': closeSize,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-border-radius': closeBorderRadius,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-tab-color': tabColor,\n        '--n-tab-font-weight': tabFontWeight,\n        '--n-tab-font-weight-active': tabFontWeightActive,\n        '--n-tab-padding': tabPadding,\n        '--n-tab-padding-vertical': tabPaddingVertical,\n        '--n-tab-gap': tabGap,\n        '--n-tab-gap-vertical': tabGapVertical,\n        '--n-pane-padding-left': getPadding(panePadding, 'left'),\n        '--n-pane-padding-right': getPadding(panePadding, 'right'),\n        '--n-pane-padding-top': getPadding(panePadding, 'top'),\n        '--n-pane-padding-bottom': getPadding(panePadding, 'bottom'),\n        '--n-font-weight-strong': fontWeightStrong,\n        '--n-tab-color-segment': tabColorSegment\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('tabs', computed(() => {\n      return `${compitableSizeRef.value[0]}${props.type[0]}`;\n    }), cssVarsRef, props) : undefined;\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedValue: mergedValueRef,\n      renderedNames: new Set(),\n      tabsRailElRef,\n      tabsPaneWrapperRef,\n      tabsElRef,\n      barElRef,\n      addTabInstRef,\n      xScrollInstRef,\n      scrollWrapperElRef,\n      addTabFixed: addTabFixedRef,\n      tabWrapperStyle: tabWrapperStyleRef,\n      handleNavResize,\n      mergedSize: compitableSizeRef,\n      handleScroll,\n      handleTabsResize,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      animationDirection: animationDirectionRef,\n      renderNameListRef,\n      onAnimationBeforeLeave,\n      onAnimationEnter,\n      onAnimationAfterEnter,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedMethods);\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      type,\n      placement,\n      addTabFixed,\n      addable,\n      mergedSize,\n      renderNameListRef,\n      onRender,\n      paneWrapperClass,\n      paneWrapperStyle,\n      $slots: {\n        default: defaultSlot,\n        prefix: prefixSlot,\n        suffix: suffixSlot\n      }\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const tabPaneChildren = defaultSlot ? flatten(defaultSlot()).filter(v => {\n      return v.type.__TAB_PANE__ === true;\n    }) : [];\n    const tabChildren = defaultSlot ? flatten(defaultSlot()).filter(v => {\n      return v.type.__TAB__ === true;\n    }) : [];\n    const showPane = !tabChildren.length;\n    const isCard = type === 'card';\n    const isSegment = type === 'segment';\n    const mergedJustifyContent = !isCard && !isSegment && this.justifyContent;\n    renderNameListRef.value = [];\n    const scrollContent = () => {\n      const tabs = h(\"div\", {\n        style: this.tabWrapperStyle,\n        class: [`${mergedClsPrefix}-tabs-wrapper`]\n      }, mergedJustifyContent ? null : h(\"div\", {\n        class: `${mergedClsPrefix}-tabs-scroll-padding`,\n        style: {\n          width: `${this.tabsPadding}px`\n        }\n      }), showPane ? tabPaneChildren.map((tabPaneVNode, index) => {\n        renderNameListRef.value.push(tabPaneVNode.props.name);\n        return justifyTabDynamicProps(h(Tab, Object.assign({}, tabPaneVNode.props, {\n          internalCreatedByPane: true,\n          internalLeftPadded: index !== 0 && (!mergedJustifyContent || mergedJustifyContent === 'center' || mergedJustifyContent === 'start' || mergedJustifyContent === 'end')\n        }), tabPaneVNode.children ? {\n          default: tabPaneVNode.children.tab\n        } : undefined));\n      }) : tabChildren.map((tabVNode, index) => {\n        renderNameListRef.value.push(tabVNode.props.name);\n        if (index !== 0 && !mergedJustifyContent) {\n          return justifyTabDynamicProps(createLeftPaddedTabVNode(tabVNode));\n        } else {\n          return justifyTabDynamicProps(tabVNode);\n        }\n      }), !addTabFixed && addable && isCard ? createAddTag(addable, (showPane ? tabPaneChildren.length : tabChildren.length) !== 0) : null, mergedJustifyContent ? null : h(\"div\", {\n        class: `${mergedClsPrefix}-tabs-scroll-padding`,\n        style: {\n          width: `${this.tabsPadding}px`\n        }\n      }));\n      return h(\"div\", {\n        ref: \"tabsElRef\",\n        class: `${mergedClsPrefix}-tabs-nav-scroll-content`\n      }, isCard && addable ? h(VResizeObserver, {\n        onResize: this.handleTabsResize\n      }, {\n        default: () => tabs\n      }) : tabs, isCard ? h(\"div\", {\n        class: `${mergedClsPrefix}-tabs-pad`\n      }) : null, isCard ? null : h(\"div\", {\n        ref: \"barElRef\",\n        class: `${mergedClsPrefix}-tabs-bar`\n      }));\n    };\n    const resolvedPlacement = isSegment ? 'top' : placement;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-tabs`, this.themeClass, `${mergedClsPrefix}-tabs--${type}-type`, `${mergedClsPrefix}-tabs--${mergedSize}-size`, mergedJustifyContent && `${mergedClsPrefix}-tabs--flex`, `${mergedClsPrefix}-tabs--${resolvedPlacement}`],\n      style: this.cssVars\n    }, h(\"div\", {\n      class: [\n      // the class should be applied here since it's possible\n      // to make tabs nested in tabs, style may influence each\n      // other. adding a class will make it easy to write the\n      // style.\n      `${mergedClsPrefix}-tabs-nav--${type}-type`, `${mergedClsPrefix}-tabs-nav--${resolvedPlacement}`, `${mergedClsPrefix}-tabs-nav`]\n    }, resolveWrappedSlot(prefixSlot, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tabs-nav__prefix`\n    }, children)), isSegment ? h(\"div\", {\n      class: `${mergedClsPrefix}-tabs-rail`,\n      ref: \"tabsRailElRef\"\n    }, showPane ? tabPaneChildren.map((tabPaneVNode, index) => {\n      renderNameListRef.value.push(tabPaneVNode.props.name);\n      return h(Tab, Object.assign({}, tabPaneVNode.props, {\n        internalCreatedByPane: true,\n        internalLeftPadded: index !== 0\n      }), tabPaneVNode.children ? {\n        default: tabPaneVNode.children.tab\n      } : undefined);\n    }) : tabChildren.map((tabVNode, index) => {\n      renderNameListRef.value.push(tabVNode.props.name);\n      if (index === 0) {\n        return tabVNode;\n      } else {\n        return createLeftPaddedTabVNode(tabVNode);\n      }\n    })) : h(VResizeObserver, {\n      onResize: this.handleNavResize\n    }, {\n      default: () => h(\"div\", {\n        class: `${mergedClsPrefix}-tabs-nav-scroll-wrapper`,\n        ref: \"scrollWrapperElRef\"\n      }, ['top', 'bottom'].includes(resolvedPlacement) ? h(VXScroll, {\n        ref: \"xScrollInstRef\",\n        onScroll: this.handleScroll\n      }, {\n        default: scrollContent\n      }) : h(\"div\", {\n        class: `${mergedClsPrefix}-tabs-nav-y-scroll`,\n        onScroll: this.handleScroll\n      }, scrollContent()))\n    }), addTabFixed && addable && isCard ? createAddTag(addable, true) : null, resolveWrappedSlot(suffixSlot, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tabs-nav__suffix`\n    }, children))), showPane && (this.animated && (resolvedPlacement === 'top' || resolvedPlacement === 'bottom') ? h(\"div\", {\n      ref: \"tabsPaneWrapperRef\",\n      style: paneWrapperStyle,\n      class: [`${mergedClsPrefix}-tabs-pane-wrapper`, paneWrapperClass]\n    }, filterMapTabPanes(tabPaneChildren, this.mergedValue, this.renderedNames, this.onAnimationBeforeLeave, this.onAnimationEnter, this.onAnimationAfterEnter, this.animationDirection)) : filterMapTabPanes(tabPaneChildren, this.mergedValue, this.renderedNames)));\n  }\n});\nfunction filterMapTabPanes(tabPaneVNodes, value, renderedNames, onBeforeLeave, onEnter, onAfterEnter, animationDirection) {\n  const children = [];\n  tabPaneVNodes.forEach(vNode => {\n    const {\n      name,\n      displayDirective,\n      'display-directive': _displayDirective\n    } = vNode.props;\n    const matchDisplayDirective = directive => displayDirective === directive || _displayDirective === directive;\n    const show = value === name;\n    if (vNode.key !== undefined) {\n      vNode.key = name;\n    }\n    if (show || matchDisplayDirective('show') || matchDisplayDirective('show:lazy') && renderedNames.has(name)) {\n      if (!renderedNames.has(name)) {\n        renderedNames.add(name);\n      }\n      const useVShow = !matchDisplayDirective('if');\n      children.push(useVShow ? withDirectives(vNode, [[vShow, show]]) : vNode);\n    }\n  });\n  if (!animationDirection) {\n    return children;\n  }\n  return h(TransitionGroup, {\n    name: `${animationDirection}-transition`,\n    onBeforeLeave: onBeforeLeave,\n    onEnter: onEnter,\n    onAfterEnter: onAfterEnter\n  }, {\n    default: () => children\n  });\n}\nfunction createAddTag(addable, internalLeftPadded) {\n  return h(Tab, {\n    ref: \"addTabInstRef\",\n    key: \"__addable\",\n    name: \"__addable\",\n    internalCreatedByPane: true,\n    internalAddable: true,\n    internalLeftPadded: internalLeftPadded,\n    disabled: typeof addable === 'object' && addable.disabled\n  });\n}\nfunction createLeftPaddedTabVNode(tabVNode) {\n  const modifiedVNode = cloneVNode(tabVNode);\n  if (modifiedVNode.props) {\n    modifiedVNode.props.internalLeftPadded = true;\n  } else {\n    modifiedVNode.props = {\n      internalLeftPadded: true\n    };\n  }\n  return modifiedVNode;\n}\nfunction justifyTabDynamicProps(tabVNode) {\n  if (Array.isArray(tabVNode.dynamicProps)) {\n    if (!tabVNode.dynamicProps.includes('internalLeftPadded')) {\n      tabVNode.dynamicProps.push('internalLeftPadded');\n    }\n  } else {\n    tabVNode.dynamicProps = ['internalLeftPadded'];\n  }\n  return tabVNode;\n}","map":{"version":3,"names":["h","ref","defineComponent","computed","provide","watch","toRef","nextTick","withDirectives","vShow","watchEffect","cloneVNode","TransitionGroup","VResizeObserver","VXScroll","throttle","useCompitable","onFontsReady","useMergedState","useConfig","useTheme","useThemeClass","createKey","call","flatten","warnOnce","resolveWrappedSlot","tabsLight","tabsInjectionKey","Tab","style","getPadding","tabsProps","Object","assign","props","value","String","Number","defaultValue","trigger","type","default","closable","Boolean","justifyContent","size","placement","tabStyle","barWidth","paneClass","paneStyle","paneWrapperClass","paneWrapperStyle","addable","tabsPadding","animated","onBeforeLeave","Function","onAdd","Array","onUpdateValue","onClose","labelSize","activeName","onActiveNameChange","name","setup","slots","_a","_b","_c","_d","process","env","NODE_ENV","undefined","mergedClsPrefixRef","inlineThemeDisabled","themeRef","tabsElRef","barElRef","scrollWrapperElRef","addTabInstRef","xScrollInstRef","startReachedRef","endReachedRef","compitableSizeRef","compitableValueRef","uncontrolledValueRef","mergedValueRef","tabChangeIdRef","id","tabWrapperStyleRef","display","updateCurrentBarStyle","updateCurrentScrollPosition","getCurrentEl","tabEl","querySelector","updateBarStyle","barEl","disabledClassName","dataset","disabled","classList","add","remove","includes","clearBarStyle","offsetWidth","offsetDiffLeft","Math","floor","offsetLeft","left","maxWidth","width","offsetHeight","offsetDiffTop","offsetTop","top","maxHeight","height","styleProps","prop","smooth","scrollWrapperEl","$el","scrollLeft","scrollWrapperElScrollLeft","scrollWrapperElOffsetWidth","tabElOffsetLeft","tabElOffsetWidth","scrollTo","behavior","tabsPaneWrapperRef","fromHeight","hangingTransition","onAnimationBeforeLeave","el","tabsPaneWrapperEl","getBoundingClientRect","fromHeightPx","applyFromStyle","onAnimationEnter","targetHeight","applyTargetStyle","document","body","max","onAnimationAfterEnter","cssText","renderNameListRef","animationDirectionRef","activateTab","panelName","currentValue","dir","doUpdateValue","_onUpdateValue","handleClose","firstTimeUpdatePosition","updateBarPositionInstantly","disableTransitionClassName","memorizedWidth","_handleNavResize","entry","contentRect","startsWith","deriveScrollShadow","handleNavResize","addTabFixedRef","_handleTabsResize","target","containerWidth","parentElement","addTabInst","handleTabsResize","handleAdd","currentEl","xScrollInst","scrollWidth","scrollTop","scrollHeight","handleScroll","e","triggerRef","tabStyleRef","paneClassRef","paneStyleRef","typeRef","closableRef","valueRef","onBeforeLeaveRef","clsPrefix","shadowStartClass","shadowEndClass","tabsRailElRef","tabsRailEl","exposedMethods","syncBarPosition","cssVarsRef","typeSuffix","card","bar","line","segment","sizeType","self","barColor","closeIconColor","closeIconColorHover","closeIconColorPressed","tabColor","tabBorderColor","paneTextColor","tabFontWeight","tabBorderRadius","tabFontWeightActive","colorSegment","fontWeightStrong","tabColorSegment","closeSize","closeIconSize","closeColorHover","closeColorPressed","closeBorderRadius","panePadding","tabPadding","tabPaddingVertical","tabGap","tabGapVertical","tabTextColor","tabTextColorActive","tabTextColorHover","tabTextColorDisabled","tabFontSize","common","cubicBezierEaseInOut","themeClassHandle","mergedClsPrefix","mergedValue","renderedNames","Set","addTabFixed","tabWrapperStyle","mergedSize","cssVars","themeClass","animationDirection","onRender","render","$slots","defaultSlot","prefix","prefixSlot","suffix","suffixSlot","tabPaneChildren","filter","v","__TAB_PANE__","tabChildren","__TAB__","showPane","length","isCard","isSegment","mergedJustifyContent","scrollContent","tabs","class","map","tabPaneVNode","index","push","justifyTabDynamicProps","internalCreatedByPane","internalLeftPadded","children","tab","tabVNode","createLeftPaddedTabVNode","createAddTag","onResize","resolvedPlacement","onScroll","filterMapTabPanes","tabPaneVNodes","onEnter","onAfterEnter","forEach","vNode","displayDirective","_displayDirective","matchDisplayDirective","directive","show","key","has","useVShow","internalAddable","modifiedVNode","isArray","dynamicProps"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/tabs/src/Tabs.js"],"sourcesContent":["import { h, ref, defineComponent, computed, provide, watch, toRef, nextTick, withDirectives, vShow, watchEffect, cloneVNode, TransitionGroup } from 'vue';\nimport { VResizeObserver, VXScroll } from 'vueuc';\nimport { throttle } from 'lodash-es';\nimport { useCompitable, onFontsReady, useMergedState } from 'vooks';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey, call, flatten, warnOnce, resolveWrappedSlot } from '../../_utils';\nimport { tabsLight } from '../styles';\nimport { tabsInjectionKey } from './interface';\nimport Tab from './Tab';\nimport style from './styles/index.cssr';\nimport { getPadding } from 'seemly';\nexport const tabsProps = Object.assign(Object.assign({}, useTheme.props), { value: [String, Number], defaultValue: [String, Number], trigger: {\n        type: String,\n        default: 'click'\n    }, type: {\n        type: String,\n        default: 'bar'\n    }, closable: Boolean, justifyContent: String, size: {\n        type: String,\n        default: 'medium'\n    }, placement: {\n        type: String,\n        default: 'top'\n    }, tabStyle: [String, Object], barWidth: Number, paneClass: String, paneStyle: [String, Object], paneWrapperClass: String, paneWrapperStyle: [String, Object], addable: [Boolean, Object], tabsPadding: {\n        type: Number,\n        default: 0\n    }, animated: Boolean, onBeforeLeave: Function, onAdd: Function, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], onClose: [Function, Array], \n    // deprecated\n    labelSize: String, activeName: [String, Number], onActiveNameChange: [Function, Array] });\nexport default defineComponent({\n    name: 'Tabs',\n    props: tabsProps,\n    setup(props, { slots }) {\n        var _a, _b, _c, _d;\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.labelSize !== undefined) {\n                    warnOnce('tabs', '`label-size` is deprecated, please use `size` instead.');\n                }\n                if (props.activeName !== undefined) {\n                    warnOnce('tabs', '`active-name` is deprecated, please use `value` instead.');\n                }\n                if (props.onActiveNameChange !== undefined) {\n                    warnOnce('tabs', '`on-active-name-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Tabs', '-tabs', style, tabsLight, props, mergedClsPrefixRef);\n        const tabsElRef = ref(null);\n        const barElRef = ref(null);\n        const scrollWrapperElRef = ref(null);\n        const addTabInstRef = ref(null);\n        const xScrollInstRef = ref(null);\n        const startReachedRef = ref(true);\n        const endReachedRef = ref(true);\n        const compitableSizeRef = useCompitable(props, ['labelSize', 'size']);\n        const compitableValueRef = useCompitable(props, ['activeName', 'value']);\n        const uncontrolledValueRef = ref((_b = (_a = compitableValueRef.value) !== null && _a !== void 0 ? _a : props.defaultValue) !== null && _b !== void 0 ? _b : (slots.default\n            ? (_d = (_c = flatten(slots.default())[0]) === null || _c === void 0 ? void 0 : _c.props) === null || _d === void 0 ? void 0 : _d.name\n            : null));\n        const mergedValueRef = useMergedState(compitableValueRef, uncontrolledValueRef);\n        const tabChangeIdRef = { id: 0 };\n        const tabWrapperStyleRef = computed(() => {\n            if (!props.justifyContent || props.type === 'card')\n                return undefined;\n            return {\n                display: 'flex',\n                justifyContent: props.justifyContent\n            };\n        });\n        watch(mergedValueRef, () => {\n            tabChangeIdRef.id = 0;\n            updateCurrentBarStyle();\n            updateCurrentScrollPosition(true);\n        });\n        function getCurrentEl() {\n            var _a;\n            const { value } = mergedValueRef;\n            if (value === null)\n                return null;\n            const tabEl = (_a = tabsElRef.value) === null || _a === void 0 ? void 0 : _a.querySelector(`[data-name=\"${value}\"]`);\n            return tabEl;\n        }\n        function updateBarStyle(tabEl) {\n            if (props.type === 'card')\n                return;\n            const { value: barEl } = barElRef;\n            if (!barEl)\n                return;\n            if (tabEl) {\n                const disabledClassName = `${mergedClsPrefixRef.value}-tabs-bar--disabled`;\n                const { barWidth, placement } = props;\n                if (tabEl.dataset.disabled === 'true') {\n                    barEl.classList.add(disabledClassName);\n                }\n                else {\n                    barEl.classList.remove(disabledClassName);\n                }\n                if (['top', 'bottom'].includes(placement)) {\n                    clearBarStyle(['top', 'maxHeight', 'height']);\n                    if (typeof barWidth === 'number' && tabEl.offsetWidth >= barWidth) {\n                        const offsetDiffLeft = Math.floor((tabEl.offsetWidth - barWidth) / 2) + tabEl.offsetLeft;\n                        barEl.style.left = `${offsetDiffLeft}px`;\n                        barEl.style.maxWidth = `${barWidth}px`;\n                    }\n                    else {\n                        barEl.style.left = `${tabEl.offsetLeft}px`;\n                        barEl.style.maxWidth = `${tabEl.offsetWidth}px`;\n                    }\n                    barEl.style.width = '8192px';\n                    void barEl.offsetWidth;\n                }\n                else {\n                    clearBarStyle(['left', 'maxWidth', 'width']);\n                    if (typeof barWidth === 'number' && tabEl.offsetHeight >= barWidth) {\n                        const offsetDiffTop = Math.floor((tabEl.offsetHeight - barWidth) / 2) + tabEl.offsetTop;\n                        barEl.style.top = `${offsetDiffTop}px`;\n                        barEl.style.maxHeight = `${barWidth}px`;\n                    }\n                    else {\n                        barEl.style.top = `${tabEl.offsetTop}px`;\n                        barEl.style.maxHeight = `${tabEl.offsetHeight}px`;\n                    }\n                    barEl.style.height = '8192px';\n                    void barEl.offsetHeight;\n                }\n            }\n        }\n        function clearBarStyle(styleProps) {\n            const { value: barEl } = barElRef;\n            if (!barEl)\n                return;\n            for (const prop of styleProps) {\n                barEl.style[prop] = '';\n            }\n        }\n        function updateCurrentBarStyle() {\n            if (props.type === 'card')\n                return;\n            const tabEl = getCurrentEl();\n            if (tabEl) {\n                updateBarStyle(tabEl);\n            }\n        }\n        function updateCurrentScrollPosition(smooth) {\n            var _a;\n            const scrollWrapperEl = (_a = xScrollInstRef.value) === null || _a === void 0 ? void 0 : _a.$el;\n            if (!scrollWrapperEl)\n                return;\n            const tabEl = getCurrentEl();\n            if (!tabEl)\n                return;\n            const { scrollLeft: scrollWrapperElScrollLeft, offsetWidth: scrollWrapperElOffsetWidth } = scrollWrapperEl;\n            const { offsetLeft: tabElOffsetLeft, offsetWidth: tabElOffsetWidth } = tabEl;\n            if (scrollWrapperElScrollLeft > tabElOffsetLeft) {\n                scrollWrapperEl.scrollTo({\n                    top: 0,\n                    left: tabElOffsetLeft,\n                    behavior: 'smooth'\n                });\n            }\n            else if (tabElOffsetLeft + tabElOffsetWidth >\n                scrollWrapperElScrollLeft + scrollWrapperElOffsetWidth) {\n                scrollWrapperEl.scrollTo({\n                    top: 0,\n                    left: tabElOffsetLeft + tabElOffsetWidth - scrollWrapperElOffsetWidth,\n                    behavior: 'smooth'\n                });\n            }\n        }\n        const tabsPaneWrapperRef = ref(null);\n        let fromHeight = 0;\n        let hangingTransition = null;\n        function onAnimationBeforeLeave(el) {\n            const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n            if (tabsPaneWrapperEl) {\n                fromHeight = el.getBoundingClientRect().height;\n                const fromHeightPx = `${fromHeight}px`;\n                const applyFromStyle = () => {\n                    tabsPaneWrapperEl.style.height = fromHeightPx;\n                    tabsPaneWrapperEl.style.maxHeight = fromHeightPx;\n                };\n                if (!hangingTransition) {\n                    hangingTransition = applyFromStyle;\n                }\n                else {\n                    applyFromStyle();\n                    hangingTransition();\n                    hangingTransition = null;\n                }\n            }\n        }\n        function onAnimationEnter(el) {\n            const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n            if (tabsPaneWrapperEl) {\n                const targetHeight = el.getBoundingClientRect().height;\n                const applyTargetStyle = () => {\n                    void document.body.offsetHeight;\n                    tabsPaneWrapperEl.style.maxHeight = `${targetHeight}px`;\n                    tabsPaneWrapperEl.style.height = `${Math.max(fromHeight, targetHeight)}px`;\n                };\n                if (!hangingTransition) {\n                    hangingTransition = applyTargetStyle;\n                }\n                else {\n                    hangingTransition();\n                    hangingTransition = null;\n                    applyTargetStyle();\n                }\n            }\n        }\n        function onAnimationAfterEnter() {\n            const tabsPaneWrapperEl = tabsPaneWrapperRef.value;\n            if (tabsPaneWrapperEl) {\n                tabsPaneWrapperEl.style.maxHeight = '';\n                tabsPaneWrapperEl.style.height = '';\n                const { paneWrapperStyle } = props;\n                if (typeof paneWrapperStyle === 'string') {\n                    tabsPaneWrapperEl.style.cssText = paneWrapperStyle;\n                }\n                else if (paneWrapperStyle) {\n                    const { maxHeight, height } = paneWrapperStyle;\n                    if (maxHeight !== undefined) {\n                        tabsPaneWrapperEl.style.maxHeight = maxHeight;\n                    }\n                    if (height !== undefined) {\n                        tabsPaneWrapperEl.style.height = height;\n                    }\n                }\n            }\n        }\n        const renderNameListRef = { value: [] };\n        const animationDirectionRef = ref('next');\n        function activateTab(panelName) {\n            const currentValue = mergedValueRef.value;\n            let dir = 'next';\n            for (const name of renderNameListRef.value) {\n                if (name === currentValue) {\n                    break;\n                }\n                if (name === panelName) {\n                    dir = 'prev';\n                    break;\n                }\n            }\n            animationDirectionRef.value = dir;\n            doUpdateValue(panelName);\n        }\n        function doUpdateValue(panelName) {\n            const { onActiveNameChange, onUpdateValue, 'onUpdate:value': _onUpdateValue } = props;\n            if (onActiveNameChange) {\n                call(onActiveNameChange, panelName);\n            }\n            if (onUpdateValue)\n                call(onUpdateValue, panelName);\n            if (_onUpdateValue)\n                call(_onUpdateValue, panelName);\n            uncontrolledValueRef.value = panelName;\n        }\n        function handleClose(panelName) {\n            const { onClose } = props;\n            if (onClose)\n                call(onClose, panelName);\n        }\n        let firstTimeUpdatePosition = true;\n        function updateBarPositionInstantly() {\n            const { value: barEl } = barElRef;\n            if (!barEl)\n                return;\n            if (!firstTimeUpdatePosition)\n                firstTimeUpdatePosition = false;\n            const disableTransitionClassName = 'transition-disabled';\n            barEl.classList.add(disableTransitionClassName);\n            updateCurrentBarStyle();\n            // here we don't need to force layout after update bar style\n            // since deriveScrollShadow will force layout\n            barEl.classList.remove(disableTransitionClassName);\n        }\n        let memorizedWidth = 0;\n        function _handleNavResize(entry) {\n            var _a, _b;\n            if (entry.contentRect.width === 0 && entry.contentRect.height === 0) {\n                return;\n            }\n            if (memorizedWidth === entry.contentRect.width) {\n                return;\n            }\n            memorizedWidth = entry.contentRect.width;\n            const { type } = props;\n            if (type === 'line' || type === 'bar') {\n                if (firstTimeUpdatePosition ||\n                    ((_a = props.justifyContent) === null || _a === void 0 ? void 0 : _a.startsWith('space'))) {\n                    updateBarPositionInstantly();\n                }\n            }\n            if (type !== 'segment') {\n                deriveScrollShadow(((_b = xScrollInstRef.value) === null || _b === void 0 ? void 0 : _b.$el) || null);\n            }\n        }\n        const handleNavResize = throttle(_handleNavResize, 64);\n        watch([() => props.justifyContent, () => props.size], () => {\n            void nextTick(() => {\n                const { type } = props;\n                if (type === 'line' || type === 'bar') {\n                    updateBarPositionInstantly();\n                }\n            });\n        });\n        const addTabFixedRef = ref(false);\n        function _handleTabsResize(entry) {\n            var _a;\n            const { target, contentRect: { width } } = entry;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const containerWidth = target.parentElement.offsetWidth;\n            if (!addTabFixedRef.value) {\n                if (containerWidth < width) {\n                    addTabFixedRef.value = true;\n                }\n            }\n            else {\n                const { value: addTabInst } = addTabInstRef;\n                if (!addTabInst)\n                    return;\n                if (containerWidth - width > addTabInst.$el.offsetWidth) {\n                    addTabFixedRef.value = false;\n                }\n            }\n            deriveScrollShadow(((_a = xScrollInstRef.value) === null || _a === void 0 ? void 0 : _a.$el) || null);\n        }\n        const handleTabsResize = throttle(_handleTabsResize, 64);\n        function handleAdd() {\n            const { onAdd } = props;\n            if (onAdd)\n                onAdd();\n            void nextTick(() => {\n                const currentEl = getCurrentEl();\n                const { value: xScrollInst } = xScrollInstRef;\n                if (!currentEl || !xScrollInst)\n                    return;\n                xScrollInst.scrollTo({\n                    left: currentEl.offsetLeft,\n                    top: 0,\n                    behavior: 'smooth'\n                });\n            });\n        }\n        function deriveScrollShadow(el) {\n            if (!el)\n                return;\n            const { placement } = props;\n            if (placement === 'top' || placement === 'bottom') {\n                const { scrollLeft, scrollWidth, offsetWidth } = el;\n                startReachedRef.value = scrollLeft <= 0;\n                endReachedRef.value = scrollLeft + offsetWidth >= scrollWidth;\n            }\n            else {\n                const { scrollTop, scrollHeight, offsetHeight } = el;\n                startReachedRef.value = scrollTop <= 0;\n                endReachedRef.value = scrollTop + offsetHeight >= scrollHeight;\n            }\n        }\n        const handleScroll = throttle((e) => {\n            deriveScrollShadow(e.target);\n        }, 64);\n        provide(tabsInjectionKey, {\n            triggerRef: toRef(props, 'trigger'),\n            tabStyleRef: toRef(props, 'tabStyle'),\n            paneClassRef: toRef(props, 'paneClass'),\n            paneStyleRef: toRef(props, 'paneStyle'),\n            mergedClsPrefixRef,\n            typeRef: toRef(props, 'type'),\n            closableRef: toRef(props, 'closable'),\n            valueRef: mergedValueRef,\n            tabChangeIdRef,\n            onBeforeLeaveRef: toRef(props, 'onBeforeLeave'),\n            activateTab,\n            handleClose,\n            handleAdd\n        });\n        onFontsReady(() => {\n            updateCurrentBarStyle();\n            updateCurrentScrollPosition(true);\n        });\n        // avoid useless rerender\n        watchEffect(() => {\n            const { value: el } = scrollWrapperElRef;\n            if (!el)\n                return;\n            const { value: clsPrefix } = mergedClsPrefixRef;\n            const shadowStartClass = `${clsPrefix}-tabs-nav-scroll-wrapper--shadow-start`;\n            const shadowEndClass = `${clsPrefix}-tabs-nav-scroll-wrapper--shadow-end`;\n            if (startReachedRef.value) {\n                el.classList.remove(shadowStartClass);\n            }\n            else {\n                el.classList.add(shadowStartClass);\n            }\n            if (endReachedRef.value) {\n                el.classList.remove(shadowEndClass);\n            }\n            else {\n                el.classList.add(shadowEndClass);\n            }\n        });\n        const tabsRailElRef = ref(null);\n        watch(mergedValueRef, () => {\n            if (props.type === 'segment') {\n                const tabsRailEl = tabsRailElRef.value;\n                if (tabsRailEl) {\n                    void nextTick(() => {\n                        tabsRailEl.classList.add('transition-disabled');\n                        void tabsRailEl.offsetWidth;\n                        tabsRailEl.classList.remove('transition-disabled');\n                    });\n                }\n            }\n        });\n        const exposedMethods = {\n            syncBarPosition: () => {\n                updateCurrentBarStyle();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { value: size } = compitableSizeRef;\n            const { type } = props;\n            const typeSuffix = {\n                card: 'Card',\n                bar: 'Bar',\n                line: 'Line',\n                segment: 'Segment'\n            }[type];\n            const sizeType = `${size}${typeSuffix}`;\n            const { self: { barColor, closeIconColor, closeIconColorHover, closeIconColorPressed, tabColor, tabBorderColor, paneTextColor, tabFontWeight, tabBorderRadius, tabFontWeightActive, colorSegment, fontWeightStrong, tabColorSegment, closeSize, closeIconSize, closeColorHover, closeColorPressed, closeBorderRadius, [createKey('panePadding', size)]: panePadding, [createKey('tabPadding', sizeType)]: tabPadding, [createKey('tabPaddingVertical', sizeType)]: tabPaddingVertical, [createKey('tabGap', sizeType)]: tabGap, [createKey('tabGap', `${sizeType}Vertical`)]: tabGapVertical, [createKey('tabTextColor', type)]: tabTextColor, [createKey('tabTextColorActive', type)]: tabTextColorActive, [createKey('tabTextColorHover', type)]: tabTextColorHover, [createKey('tabTextColorDisabled', type)]: tabTextColorDisabled, [createKey('tabFontSize', size)]: tabFontSize }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-color-segment': colorSegment,\n                '--n-bar-color': barColor,\n                '--n-tab-font-size': tabFontSize,\n                '--n-tab-text-color': tabTextColor,\n                '--n-tab-text-color-active': tabTextColorActive,\n                '--n-tab-text-color-disabled': tabTextColorDisabled,\n                '--n-tab-text-color-hover': tabTextColorHover,\n                '--n-pane-text-color': paneTextColor,\n                '--n-tab-border-color': tabBorderColor,\n                '--n-tab-border-radius': tabBorderRadius,\n                '--n-close-size': closeSize,\n                '--n-close-icon-size': closeIconSize,\n                '--n-close-color-hover': closeColorHover,\n                '--n-close-color-pressed': closeColorPressed,\n                '--n-close-border-radius': closeBorderRadius,\n                '--n-close-icon-color': closeIconColor,\n                '--n-close-icon-color-hover': closeIconColorHover,\n                '--n-close-icon-color-pressed': closeIconColorPressed,\n                '--n-tab-color': tabColor,\n                '--n-tab-font-weight': tabFontWeight,\n                '--n-tab-font-weight-active': tabFontWeightActive,\n                '--n-tab-padding': tabPadding,\n                '--n-tab-padding-vertical': tabPaddingVertical,\n                '--n-tab-gap': tabGap,\n                '--n-tab-gap-vertical': tabGapVertical,\n                '--n-pane-padding-left': getPadding(panePadding, 'left'),\n                '--n-pane-padding-right': getPadding(panePadding, 'right'),\n                '--n-pane-padding-top': getPadding(panePadding, 'top'),\n                '--n-pane-padding-bottom': getPadding(panePadding, 'bottom'),\n                '--n-font-weight-strong': fontWeightStrong,\n                '--n-tab-color-segment': tabColorSegment\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tabs', computed(() => {\n                return `${compitableSizeRef.value[0]}${props.type[0]}`;\n            }), cssVarsRef, props)\n            : undefined;\n        return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, mergedValue: mergedValueRef, renderedNames: new Set(), tabsRailElRef,\n            tabsPaneWrapperRef,\n            tabsElRef,\n            barElRef,\n            addTabInstRef,\n            xScrollInstRef,\n            scrollWrapperElRef, addTabFixed: addTabFixedRef, tabWrapperStyle: tabWrapperStyleRef, handleNavResize, mergedSize: compitableSizeRef, handleScroll,\n            handleTabsResize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, animationDirection: animationDirectionRef, renderNameListRef,\n            onAnimationBeforeLeave,\n            onAnimationEnter,\n            onAnimationAfterEnter, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n    },\n    render() {\n        const { mergedClsPrefix, type, placement, addTabFixed, addable, mergedSize, renderNameListRef, onRender, paneWrapperClass, paneWrapperStyle, $slots: { default: defaultSlot, prefix: prefixSlot, suffix: suffixSlot } } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const tabPaneChildren = defaultSlot\n            ? flatten(defaultSlot()).filter((v) => {\n                return v.type.__TAB_PANE__ === true;\n            })\n            : [];\n        const tabChildren = defaultSlot\n            ? flatten(defaultSlot()).filter((v) => {\n                return v.type.__TAB__ === true;\n            })\n            : [];\n        const showPane = !tabChildren.length;\n        const isCard = type === 'card';\n        const isSegment = type === 'segment';\n        const mergedJustifyContent = !isCard && !isSegment && this.justifyContent;\n        renderNameListRef.value = [];\n        const scrollContent = () => {\n            const tabs = (h(\"div\", { style: this.tabWrapperStyle, class: [`${mergedClsPrefix}-tabs-wrapper`] },\n                mergedJustifyContent ? null : (h(\"div\", { class: `${mergedClsPrefix}-tabs-scroll-padding`, style: { width: `${this.tabsPadding}px` } })),\n                showPane\n                    ? tabPaneChildren.map((tabPaneVNode, index) => {\n                        renderNameListRef.value.push(tabPaneVNode.props.name);\n                        return justifyTabDynamicProps(h(Tab, Object.assign({}, tabPaneVNode.props, { internalCreatedByPane: true, internalLeftPadded: index !== 0 &&\n                                (!mergedJustifyContent ||\n                                    mergedJustifyContent === 'center' ||\n                                    mergedJustifyContent === 'start' ||\n                                    mergedJustifyContent === 'end') }), tabPaneVNode.children\n                            ? {\n                                default: tabPaneVNode.children.tab\n                            }\n                            : undefined));\n                    })\n                    : tabChildren.map((tabVNode, index) => {\n                        renderNameListRef.value.push(tabVNode.props.name);\n                        if (index !== 0 && !mergedJustifyContent) {\n                            return justifyTabDynamicProps(createLeftPaddedTabVNode(tabVNode));\n                        }\n                        else {\n                            return justifyTabDynamicProps(tabVNode);\n                        }\n                    }),\n                !addTabFixed && addable && isCard\n                    ? createAddTag(addable, (showPane ? tabPaneChildren.length : tabChildren.length) !== 0)\n                    : null,\n                mergedJustifyContent ? null : (h(\"div\", { class: `${mergedClsPrefix}-tabs-scroll-padding`, style: { width: `${this.tabsPadding}px` } }))));\n            return (h(\"div\", { ref: \"tabsElRef\", class: `${mergedClsPrefix}-tabs-nav-scroll-content` },\n                isCard && addable ? (h(VResizeObserver, { onResize: this.handleTabsResize }, {\n                    default: () => tabs\n                })) : (tabs),\n                isCard ? h(\"div\", { class: `${mergedClsPrefix}-tabs-pad` }) : null,\n                isCard ? null : (h(\"div\", { ref: \"barElRef\", class: `${mergedClsPrefix}-tabs-bar` }))));\n        };\n        const resolvedPlacement = isSegment ? 'top' : placement;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-tabs`,\n                this.themeClass,\n                `${mergedClsPrefix}-tabs--${type}-type`,\n                `${mergedClsPrefix}-tabs--${mergedSize}-size`,\n                mergedJustifyContent && `${mergedClsPrefix}-tabs--flex`,\n                `${mergedClsPrefix}-tabs--${resolvedPlacement}`\n            ], style: this.cssVars },\n            h(\"div\", { class: [\n                    // the class should be applied here since it's possible\n                    // to make tabs nested in tabs, style may influence each\n                    // other. adding a class will make it easy to write the\n                    // style.\n                    `${mergedClsPrefix}-tabs-nav--${type}-type`,\n                    `${mergedClsPrefix}-tabs-nav--${resolvedPlacement}`,\n                    `${mergedClsPrefix}-tabs-nav`\n                ] },\n                resolveWrappedSlot(prefixSlot, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-tabs-nav__prefix` }, children))),\n                isSegment ? (h(\"div\", { class: `${mergedClsPrefix}-tabs-rail`, ref: \"tabsRailElRef\" }, showPane\n                    ? tabPaneChildren.map((tabPaneVNode, index) => {\n                        renderNameListRef.value.push(tabPaneVNode.props.name);\n                        return (h(Tab, Object.assign({}, tabPaneVNode.props, { internalCreatedByPane: true, internalLeftPadded: index !== 0 }), tabPaneVNode.children\n                            ? {\n                                default: tabPaneVNode.children.tab\n                            }\n                            : undefined));\n                    })\n                    : tabChildren.map((tabVNode, index) => {\n                        renderNameListRef.value.push(tabVNode.props.name);\n                        if (index === 0) {\n                            return tabVNode;\n                        }\n                        else {\n                            return createLeftPaddedTabVNode(tabVNode);\n                        }\n                    }))) : (h(VResizeObserver, { onResize: this.handleNavResize }, {\n                    default: () => (h(\"div\", { class: `${mergedClsPrefix}-tabs-nav-scroll-wrapper`, ref: \"scrollWrapperElRef\" }, ['top', 'bottom'].includes(resolvedPlacement) ? (h(VXScroll, { ref: \"xScrollInstRef\", onScroll: this.handleScroll }, {\n                        default: scrollContent\n                    })) : (h(\"div\", { class: `${mergedClsPrefix}-tabs-nav-y-scroll`, onScroll: this.handleScroll }, scrollContent()))))\n                })),\n                addTabFixed && addable && isCard\n                    ? createAddTag(addable, true)\n                    : null,\n                resolveWrappedSlot(suffixSlot, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-tabs-nav__suffix` }, children)))),\n            showPane &&\n                (this.animated &&\n                    (resolvedPlacement === 'top' || resolvedPlacement === 'bottom') ? (h(\"div\", { ref: \"tabsPaneWrapperRef\", style: paneWrapperStyle, class: [`${mergedClsPrefix}-tabs-pane-wrapper`, paneWrapperClass] }, filterMapTabPanes(tabPaneChildren, this.mergedValue, this.renderedNames, this.onAnimationBeforeLeave, this.onAnimationEnter, this.onAnimationAfterEnter, this.animationDirection))) : (filterMapTabPanes(tabPaneChildren, this.mergedValue, this.renderedNames)))));\n    }\n});\nfunction filterMapTabPanes(tabPaneVNodes, value, renderedNames, onBeforeLeave, onEnter, onAfterEnter, animationDirection) {\n    const children = [];\n    tabPaneVNodes.forEach((vNode) => {\n        const { name, displayDirective, 'display-directive': _displayDirective } = vNode.props;\n        const matchDisplayDirective = (directive) => displayDirective === directive || _displayDirective === directive;\n        const show = value === name;\n        if (vNode.key !== undefined) {\n            vNode.key = name;\n        }\n        if (show ||\n            matchDisplayDirective('show') ||\n            (matchDisplayDirective('show:lazy') && renderedNames.has(name))) {\n            if (!renderedNames.has(name)) {\n                renderedNames.add(name);\n            }\n            const useVShow = !matchDisplayDirective('if');\n            children.push(useVShow ? withDirectives(vNode, [[vShow, show]]) : vNode);\n        }\n    });\n    if (!animationDirection) {\n        return children;\n    }\n    return (h(TransitionGroup, { name: `${animationDirection}-transition`, onBeforeLeave: onBeforeLeave, onEnter: onEnter, onAfterEnter: onAfterEnter }, { default: () => children }));\n}\nfunction createAddTag(addable, internalLeftPadded) {\n    return (h(Tab, { ref: \"addTabInstRef\", key: \"__addable\", name: \"__addable\", internalCreatedByPane: true, internalAddable: true, internalLeftPadded: internalLeftPadded, disabled: typeof addable === 'object' && addable.disabled }));\n}\nfunction createLeftPaddedTabVNode(tabVNode) {\n    const modifiedVNode = cloneVNode(tabVNode);\n    if (modifiedVNode.props) {\n        modifiedVNode.props.internalLeftPadded = true;\n    }\n    else {\n        modifiedVNode.props = {\n            internalLeftPadded: true\n        };\n    }\n    return modifiedVNode;\n}\nfunction justifyTabDynamicProps(tabVNode) {\n    if (Array.isArray(tabVNode.dynamicProps)) {\n        if (!tabVNode.dynamicProps.includes('internalLeftPadded')) {\n            tabVNode.dynamicProps.push('internalLeftPadded');\n        }\n    }\n    else {\n        tabVNode.dynamicProps = ['internalLeftPadded'];\n    }\n    return tabVNode;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}