{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerClass: String,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete messageRefs.value[key];\n    }\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n  render() {\n    var _a, _b, _c;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`, this.containerClass],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n});","map":{"version":3,"names":["Fragment","ref","h","reactive","Teleport","defineComponent","provide","createId","omit","useConfig","useTheme","MessageEnvironment","messageApiInjectionKey","messageProviderInjectionKey","messageProviderProps","Object","assign","props","to","String","duration","type","Number","default","keepAliveOnHover","Boolean","max","placement","closable","containerClass","containerStyle","name","setup","mergedClsPrefixRef","messageListRef","messageRefs","api","create","content","options","info","success","warning","error","loading","destroyAll","key","messageReactive","destroy","_a","value","hide","length","shift","push","handleAfterLeave","splice","findIndex","message","values","forEach","messageInstRef","mergedClsPrefix","messageList","render","_b","_c","$slots","call","class","style","map","inst","internalKey","onInternalAfterLeave","undefined"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/message/src/MessageProvider.js"],"sourcesContent":["import { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), { to: [String, Object], duration: {\n        type: Number,\n        default: 3000\n    }, keepAliveOnHover: Boolean, max: Number, placement: {\n        type: String,\n        default: 'top'\n    }, closable: Boolean, containerClass: String, containerStyle: [String, Object] });\nexport default defineComponent({\n    name: 'MessageProvider',\n    props: messageProviderProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const messageListRef = ref([]);\n        const messageRefs = ref({});\n        const api = {\n            create(content, options) {\n                return create(content, Object.assign({ type: 'default' }, options));\n            },\n            info(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'info' }));\n            },\n            success(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'success' }));\n            },\n            warning(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'warning' }));\n            },\n            error(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'error' }));\n            },\n            loading(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'loading' }));\n            },\n            destroyAll\n        };\n        provide(messageProviderInjectionKey, {\n            props,\n            mergedClsPrefixRef\n        });\n        provide(messageApiInjectionKey, api);\n        function create(content, options) {\n            const key = createId();\n            const messageReactive = reactive(Object.assign(Object.assign({}, options), { content,\n                key, destroy: () => {\n                    var _a;\n                    (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n                } }));\n            const { max } = props;\n            if (max && messageListRef.value.length >= max) {\n                messageListRef.value.shift();\n            }\n            messageListRef.value.push(messageReactive);\n            return messageReactive;\n        }\n        function handleAfterLeave(key) {\n            messageListRef.value.splice(messageListRef.value.findIndex((message) => message.key === key), 1);\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete messageRefs.value[key];\n        }\n        function destroyAll() {\n            Object.values(messageRefs.value).forEach((messageInstRef) => {\n                messageInstRef.hide();\n            });\n        }\n        return Object.assign({\n            mergedClsPrefix: mergedClsPrefixRef,\n            messageRefs,\n            messageList: messageListRef,\n            handleAfterLeave\n        }, api);\n    },\n    render() {\n        var _a, _b, _c;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            this.messageList.length ? (h(Teleport, { to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body' },\n                h(\"div\", { class: [\n                        `${this.mergedClsPrefix}-message-container`,\n                        `${this.mergedClsPrefix}-message-container--${this.placement}`,\n                        this.containerClass\n                    ], key: \"message-container\", style: this.containerStyle }, this.messageList.map((message) => {\n                    return (h(MessageEnvironment, Object.assign({ ref: ((inst) => {\n                            if (inst) {\n                                this.messageRefs[message.key] = inst;\n                            }\n                        }), internalKey: message.key, onInternalAfterLeave: this.handleAfterLeave }, omit(message, ['destroy'], undefined), { duration: message.duration === undefined\n                            ? this.duration\n                            : message.duration, keepAliveOnHover: message.keepAliveOnHover === undefined\n                            ? this.keepAliveOnHover\n                            : message.keepAliveOnHover, closable: message.closable === undefined\n                            ? this.closable\n                            : message.closable })));\n                })))) : null));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}