{"ast":null,"code":"import { h, computed, onMounted, ref, defineComponent, Transition } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseSlotMachine, NBaseWave } from '../../_internal';\nimport { color2Class, createKey, getTitleAttribute, isSlotEmpty, resolveSlot } from '../../_utils';\nimport { badgeLight } from '../styles';\nimport style from './styles/index.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nexport const badgeProps = Object.assign(Object.assign({}, useTheme.props), {\n  value: [String, Number],\n  max: Number,\n  dot: Boolean,\n  type: {\n    type: String,\n    default: 'default'\n  },\n  show: {\n    type: Boolean,\n    default: true\n  },\n  showZero: Boolean,\n  processing: Boolean,\n  color: String,\n  offset: Array\n});\nexport default defineComponent({\n  name: 'Badge',\n  props: badgeProps,\n  setup(props, {\n    slots\n  }) {\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Badge', '-badge', style, badgeLight, props, mergedClsPrefixRef);\n    const appearedRef = ref(false);\n    const handleAfterEnter = () => {\n      appearedRef.value = true;\n    };\n    const handleAfterLeave = () => {\n      appearedRef.value = false;\n    };\n    const showBadgeRef = computed(() => {\n      return props.show && (props.dot || props.value !== undefined && !(!props.showZero && Number(props.value) <= 0) || !isSlotEmpty(slots.value));\n    });\n    onMounted(() => {\n      if (showBadgeRef.value) appearedRef.value = true;\n    });\n    const rtlEnabledRef = useRtl('Badge', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        type,\n        color: propColor\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut,\n          cubicBezierEaseOut\n        },\n        self: {\n          [createKey('color', type)]: color,\n          fontFamily,\n          fontSize\n        }\n      } = themeRef.value;\n      return {\n        '--n-font-size': fontSize,\n        '--n-font-family': fontFamily,\n        '--n-color': propColor || color,\n        '--n-ripple-color': propColor || color,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-ripple-bezier': cubicBezierEaseOut\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('badge', computed(() => {\n      let hash = '';\n      const {\n        type,\n        color\n      } = props;\n      if (type) {\n        hash += type[0];\n      }\n      if (color) {\n        hash += color2Class(color);\n      }\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    const offsetStyleRef = computed(() => {\n      const {\n        offset\n      } = props;\n      if (!offset) return undefined;\n      const [x, y] = offset;\n      const reslovedOffsetX = typeof x === 'number' ? `${x}px` : x;\n      const reslovedOffsetY = typeof y === 'number' ? `${y}px` : y;\n      return {\n        transform: `translate(calc(${(rtlEnabledRef === null || rtlEnabledRef === void 0 ? void 0 : rtlEnabledRef.value) ? '50%' : '-50%'} + ${reslovedOffsetX}), ${reslovedOffsetY})`\n      };\n    });\n    return {\n      rtlEnabled: rtlEnabledRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      appeared: appearedRef,\n      showBadge: showBadgeRef,\n      handleAfterEnter,\n      handleAfterLeave,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n      offsetStyle: offsetStyleRef\n    };\n  },\n  render() {\n    var _a;\n    const {\n      mergedClsPrefix,\n      onRender,\n      themeClass,\n      $slots\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const children = (_a = $slots.default) === null || _a === void 0 ? void 0 : _a.call($slots);\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-badge`, this.rtlEnabled && `${mergedClsPrefix}-badge--rtl`, themeClass, {\n        [`${mergedClsPrefix}-badge--dot`]: this.dot,\n        [`${mergedClsPrefix}-badge--as-is`]: !children\n      }],\n      style: this.cssVars\n    }, children, h(Transition, {\n      name: \"fade-in-scale-up-transition\",\n      onAfterEnter: this.handleAfterEnter,\n      onAfterLeave: this.handleAfterLeave\n    }, {\n      default: () => this.showBadge ? h(\"sup\", {\n        class: `${mergedClsPrefix}-badge-sup`,\n        title: getTitleAttribute(this.value),\n        style: this.offsetStyle\n      }, resolveSlot($slots.value, () => [!this.dot ? h(NBaseSlotMachine, {\n        clsPrefix: mergedClsPrefix,\n        appeared: this.appeared,\n        max: this.max,\n        value: this.value\n      }) : null]), this.processing ? h(NBaseWave, {\n        clsPrefix: mergedClsPrefix\n      }) : null) : null\n    }));\n  }\n});","map":{"version":3,"names":["h","computed","onMounted","ref","defineComponent","Transition","useConfig","useTheme","useThemeClass","NBaseSlotMachine","NBaseWave","color2Class","createKey","getTitleAttribute","isSlotEmpty","resolveSlot","badgeLight","style","useRtl","badgeProps","Object","assign","props","value","String","Number","max","dot","Boolean","type","default","show","showZero","processing","color","offset","Array","name","setup","slots","mergedClsPrefixRef","inlineThemeDisabled","mergedRtlRef","themeRef","appearedRef","handleAfterEnter","handleAfterLeave","showBadgeRef","undefined","rtlEnabledRef","cssVarsRef","propColor","common","cubicBezierEaseInOut","cubicBezierEaseOut","self","fontFamily","fontSize","themeClassHandle","hash","offsetStyleRef","x","y","reslovedOffsetX","reslovedOffsetY","transform","rtlEnabled","mergedClsPrefix","appeared","showBadge","cssVars","themeClass","onRender","offsetStyle","render","_a","$slots","children","call","class","onAfterEnter","onAfterLeave","title","clsPrefix"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/badge/src/Badge.js"],"sourcesContent":["import { h, computed, onMounted, ref, defineComponent, Transition } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseSlotMachine, NBaseWave } from '../../_internal';\nimport { color2Class, createKey, getTitleAttribute, isSlotEmpty, resolveSlot } from '../../_utils';\nimport { badgeLight } from '../styles';\nimport style from './styles/index.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nexport const badgeProps = Object.assign(Object.assign({}, useTheme.props), { value: [String, Number], max: Number, dot: Boolean, type: {\n        type: String,\n        default: 'default'\n    }, show: {\n        type: Boolean,\n        default: true\n    }, showZero: Boolean, processing: Boolean, color: String, offset: Array });\nexport default defineComponent({\n    name: 'Badge',\n    props: badgeProps,\n    setup(props, { slots }) {\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Badge', '-badge', style, badgeLight, props, mergedClsPrefixRef);\n        const appearedRef = ref(false);\n        const handleAfterEnter = () => {\n            appearedRef.value = true;\n        };\n        const handleAfterLeave = () => {\n            appearedRef.value = false;\n        };\n        const showBadgeRef = computed(() => {\n            return (props.show &&\n                (props.dot ||\n                    (props.value !== undefined &&\n                        !(!props.showZero && Number(props.value) <= 0)) ||\n                    !isSlotEmpty(slots.value)));\n        });\n        onMounted(() => {\n            if (showBadgeRef.value)\n                appearedRef.value = true;\n        });\n        const rtlEnabledRef = useRtl('Badge', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { type, color: propColor } = props;\n            const { common: { cubicBezierEaseInOut, cubicBezierEaseOut }, self: { [createKey('color', type)]: color, fontFamily, fontSize } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-font-family': fontFamily,\n                '--n-color': propColor || color,\n                '--n-ripple-color': propColor || color,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-ripple-bezier': cubicBezierEaseOut\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('badge', computed(() => {\n                let hash = '';\n                const { type, color } = props;\n                if (type) {\n                    hash += type[0];\n                }\n                if (color) {\n                    hash += color2Class(color);\n                }\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        const offsetStyleRef = computed(() => {\n            const { offset } = props;\n            if (!offset)\n                return undefined;\n            const [x, y] = offset;\n            const reslovedOffsetX = typeof x === 'number' ? `${x}px` : x;\n            const reslovedOffsetY = typeof y === 'number' ? `${y}px` : y;\n            return {\n                transform: `translate(calc(${(rtlEnabledRef === null || rtlEnabledRef === void 0 ? void 0 : rtlEnabledRef.value) ? '50%' : '-50%'} + ${reslovedOffsetX}), ${reslovedOffsetY})`\n            };\n        });\n        return {\n            rtlEnabled: rtlEnabledRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            appeared: appearedRef,\n            showBadge: showBadgeRef,\n            handleAfterEnter,\n            handleAfterLeave,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n            offsetStyle: offsetStyleRef\n        };\n    },\n    render() {\n        var _a;\n        const { mergedClsPrefix, onRender, themeClass, $slots } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const children = (_a = $slots.default) === null || _a === void 0 ? void 0 : _a.call($slots);\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-badge`,\n                this.rtlEnabled && `${mergedClsPrefix}-badge--rtl`,\n                themeClass,\n                {\n                    [`${mergedClsPrefix}-badge--dot`]: this.dot,\n                    [`${mergedClsPrefix}-badge--as-is`]: !children\n                }\n            ], style: this.cssVars },\n            children,\n            h(Transition, { name: \"fade-in-scale-up-transition\", onAfterEnter: this.handleAfterEnter, onAfterLeave: this.handleAfterLeave }, {\n                default: () => this.showBadge ? (h(\"sup\", { class: `${mergedClsPrefix}-badge-sup`, title: getTitleAttribute(this.value), style: this.offsetStyle },\n                    resolveSlot($slots.value, () => [\n                        !this.dot ? (h(NBaseSlotMachine, { clsPrefix: mergedClsPrefix, appeared: this.appeared, max: this.max, value: this.value })) : null\n                    ]),\n                    this.processing ? (h(NBaseWave, { clsPrefix: mergedClsPrefix })) : null)) : null\n            })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}