{"ast":null,"code":"import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n  focus: ['onFocus', 'onBlur'],\n  click: ['onClick'],\n  hover: ['onMouseenter', 'onMouseleave'],\n  manual: [],\n  nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n  triggerEventMap[trigger].forEach(eventName => {\n    if (!vNode.props) vNode.props = {};else {\n      vNode.props = Object.assign({}, vNode.props);\n    }\n    const originalHandler = vNode.props[eventName];\n    const handler = events[eventName];\n    if (!originalHandler) vNode.props[eventName] = handler;else {\n      vNode.props[eventName] = (...args) => {\n        originalHandler(...args);\n        handler(...args);\n      };\n    }\n  });\n}\nexport const popoverBaseProps = {\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  defaultShow: Boolean,\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  trigger: {\n    type: String,\n    default: 'hover'\n  },\n  delay: {\n    type: Number,\n    default: 100\n  },\n  duration: {\n    type: Number,\n    default: 100\n  },\n  raw: Boolean,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  x: Number,\n  y: Number,\n  arrowPointToCenter: Boolean,\n  disabled: Boolean,\n  getDisabled: Function,\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  arrowClass: String,\n  arrowStyle: [String, Object],\n  arrowWrapperClass: String,\n  arrowWrapperStyle: [String, Object],\n  flip: {\n    type: Boolean,\n    default: true\n  },\n  animated: {\n    type: Boolean,\n    default: true\n  },\n  width: {\n    type: [Number, String],\n    default: undefined\n  },\n  overlap: Boolean,\n  keepAliveOnHover: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: Number,\n  to: useAdjustedTo.propTo,\n  scrollable: Boolean,\n  contentClass: String,\n  contentStyle: [Object, String],\n  headerClass: String,\n  headerStyle: [Object, String],\n  footerClass: String,\n  footerStyle: [Object, String],\n  // events\n  onClickoutside: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  // internal\n  internalDeactivateImmediately: Boolean,\n  internalSyncTargetWithParent: Boolean,\n  internalInheritedEventHandlers: {\n    type: Array,\n    default: () => []\n  },\n  internalTrapFocus: Boolean,\n  internalExtraClass: {\n    type: Array,\n    default: () => []\n  },\n  // deprecated\n  onShow: [Function, Array],\n  onHide: [Function, Array],\n  arrow: {\n    type: Boolean,\n    default: undefined\n  },\n  minWidth: Number,\n  maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), {\n  internalOnAfterLeave: Function,\n  internalRenderBody: Function\n});\nexport default defineComponent({\n  name: 'Popover',\n  inheritAttrs: false,\n  props: popoverProps,\n  __popover__: true,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.maxWidth !== undefined) {\n          warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n        }\n        if (props.minWidth !== undefined) {\n          warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n        }\n        if (props.arrow !== undefined) {\n          warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n        }\n        if (props.onHide !== undefined) {\n          warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n        }\n        if (props.onShow !== undefined) {\n          warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n        }\n      });\n    }\n    const isMountedRef = useIsMounted();\n    const binderInstRef = ref(null);\n    // setup show\n    const controlledShowRef = computed(() => props.show);\n    const uncontrolledShowRef = ref(props.defaultShow);\n    const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n    const mergedShowConsideringDisabledPropRef = useMemo(() => {\n      if (props.disabled) return false;\n      return mergedShowWithoutDisabledRef.value;\n    });\n    const getMergedDisabled = () => {\n      if (props.disabled) return true;\n      const {\n        getDisabled\n      } = props;\n      if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled()) return true;\n      return false;\n    };\n    const getMergedShow = () => {\n      if (getMergedDisabled()) return false;\n      return mergedShowWithoutDisabledRef.value;\n    };\n    // setup show-arrow\n    const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n    const mergedShowArrowRef = computed(() => {\n      if (props.overlap) return false;\n      return compatibleShowArrowRef.value;\n    });\n    // bodyInstance\n    let bodyInstance = null;\n    const showTimerIdRef = ref(null);\n    const hideTimerIdRef = ref(null);\n    const positionManuallyRef = useMemo(() => {\n      return props.x !== undefined && props.y !== undefined;\n    });\n    // methods\n    function doUpdateShow(value) {\n      const {\n        'onUpdate:show': _onUpdateShow,\n        onUpdateShow,\n        onShow,\n        onHide\n      } = props;\n      uncontrolledShowRef.value = value;\n      if (_onUpdateShow) {\n        call(_onUpdateShow, value);\n      }\n      if (onUpdateShow) {\n        call(onUpdateShow, value);\n      }\n      if (value && onShow) {\n        call(onShow, true);\n      }\n      if (value && onHide) {\n        call(onHide, false);\n      }\n    }\n    function syncPosition() {\n      if (bodyInstance) {\n        bodyInstance.syncPosition();\n      }\n    }\n    function clearShowTimer() {\n      const {\n        value: showTimerId\n      } = showTimerIdRef;\n      if (showTimerId) {\n        window.clearTimeout(showTimerId);\n        showTimerIdRef.value = null;\n      }\n    }\n    function clearHideTimer() {\n      const {\n        value: hideTimerId\n      } = hideTimerIdRef;\n      if (hideTimerId) {\n        window.clearTimeout(hideTimerId);\n        hideTimerIdRef.value = null;\n      }\n    }\n    function handleFocus() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (getMergedShow()) return;\n        doUpdateShow(true);\n      }\n    }\n    function handleBlur() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (!getMergedShow()) return;\n        doUpdateShow(false);\n      }\n    }\n    function handleMouseEnter() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearHideTimer();\n        if (showTimerIdRef.value !== null) return;\n        if (getMergedShow()) return;\n        const delayCallback = () => {\n          doUpdateShow(true);\n          showTimerIdRef.value = null;\n        };\n        const {\n          delay\n        } = props;\n        if (delay === 0) {\n          delayCallback();\n        } else {\n          showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n        }\n      }\n    }\n    function handleMouseLeave() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearShowTimer();\n        if (hideTimerIdRef.value !== null) return;\n        if (!getMergedShow()) return;\n        const delayedCallback = () => {\n          doUpdateShow(false);\n          hideTimerIdRef.value = null;\n        };\n        const {\n          duration\n        } = props;\n        if (duration === 0) {\n          delayedCallback();\n        } else {\n          hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n        }\n      }\n    }\n    // will be called in popover-content\n    function handleMouseMoveOutside() {\n      handleMouseLeave();\n    }\n    // will be called in popover-content\n    function handleClickOutside(e) {\n      var _a;\n      if (!getMergedShow()) return;\n      if (props.trigger === 'click') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n      (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleClick() {\n      if (props.trigger === 'click' && !getMergedDisabled()) {\n        clearShowTimer();\n        clearHideTimer();\n        const nextShow = !getMergedShow();\n        doUpdateShow(nextShow);\n      }\n    }\n    function handleKeydown(e) {\n      if (!props.internalTrapFocus) return;\n      if (e.key === 'Escape') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n    }\n    function setShow(value) {\n      uncontrolledShowRef.value = value;\n    }\n    function getTriggerElement() {\n      var _a;\n      // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n      return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n    }\n    function setBodyInstance(value) {\n      bodyInstance = value;\n    }\n    provide('NPopover', {\n      getTriggerElement,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleClickOutside,\n      handleMouseMoveOutside,\n      setBodyInstance,\n      positionManuallyRef,\n      isMountedRef,\n      zIndexRef: toRef(props, 'zIndex'),\n      extraClassRef: toRef(props, 'internalExtraClass'),\n      internalRenderBodyRef: toRef(props, 'internalRenderBody')\n    });\n    watchEffect(() => {\n      if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n        doUpdateShow(false);\n      }\n    });\n    const returned = {\n      binderInstRef,\n      positionManually: positionManuallyRef,\n      mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n      // if to show popover body\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShowArrow: mergedShowArrowRef,\n      getMergedShow,\n      setShow,\n      handleClick,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      syncPosition\n    };\n    return returned;\n  },\n  render() {\n    var _a;\n    const {\n      positionManually,\n      $slots: slots\n    } = this;\n    let triggerVNode;\n    let popoverInside = false;\n    if (!positionManually) {\n      if (slots.activator) {\n        triggerVNode = getFirstSlotVNode(slots, 'activator');\n      } else {\n        triggerVNode = getFirstSlotVNode(slots, 'trigger');\n      }\n      if (triggerVNode) {\n        triggerVNode = cloneVNode(triggerVNode);\n        triggerVNode = triggerVNode.type === Text ? h('span', [triggerVNode]) : triggerVNode;\n        const handlers = {\n          onClick: this.handleClick,\n          onMouseenter: this.handleMouseEnter,\n          onMouseleave: this.handleMouseLeave,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur\n        };\n        if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n          popoverInside = true;\n          // We assume that there's no DOM event handlers on popover element\n          if (!triggerVNode.props) {\n            triggerVNode.props = {\n              internalSyncTargetWithParent: true,\n              internalInheritedEventHandlers: []\n            };\n          }\n          triggerVNode.props.internalSyncTargetWithParent = true;\n          if (!triggerVNode.props.internalInheritedEventHandlers) {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers];\n          } else {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers, ...triggerVNode.props.internalInheritedEventHandlers];\n          }\n        } else {\n          const {\n            internalInheritedEventHandlers\n          } = this;\n          const ascendantAndCurrentHandlers = [handlers, ...internalInheritedEventHandlers];\n          const mergedHandlers = {\n            onBlur: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onBlur(e);\n              });\n            },\n            onFocus: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onFocus(e);\n              });\n            },\n            onClick: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onClick(e);\n              });\n            },\n            onMouseenter: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseenter(e);\n              });\n            },\n            onMouseleave: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseleave(e);\n              });\n            }\n          };\n          appendEvents(triggerVNode, internalInheritedEventHandlers ? 'nested' : positionManually ? 'manual' : this.trigger, mergedHandlers);\n        }\n      }\n    }\n    return h(VBinder, {\n      ref: \"binderInstRef\",\n      syncTarget: !popoverInside,\n      syncTargetWithParent: this.internalSyncTargetWithParent\n    }, {\n      default: () => {\n        // We need to subscribe it. Sometimes rerender won't ge triggered.\n        // `mergedShowConsideringDisabledProp` is not the final disabled status.\n        // In ellpisis it's dynamic.\n        void this.mergedShowConsideringDisabledProp;\n        const mergedShow = this.getMergedShow();\n        return [this.internalTrapFocus && mergedShow ? withDirectives(h(\"div\", {\n          style: {\n            position: 'fixed',\n            inset: 0\n          }\n        }), [[zindexable, {\n          enabled: mergedShow,\n          zIndex: this.zIndex\n        }]]) : null, positionManually ? null : h(VTarget, null, {\n          default: () => triggerVNode\n        }), h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), {\n          showArrow: this.mergedShowArrow,\n          show: mergedShow\n        })), {\n          default: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          header: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          footer: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        })];\n      }\n    });\n  }\n});","map":{"version":3,"names":["h","ref","computed","defineComponent","provide","toRef","cloneVNode","watchEffect","withDirectives","Text","VBinder","VTarget","useMergedState","useCompitable","useIsMounted","useMemo","zindexable","call","keep","getFirstSlotVNode","warnOnce","useAdjustedTo","useTheme","NPopoverBody","popoverBodyProps","bodyPropKeys","Object","keys","triggerEventMap","focus","click","hover","manual","nested","appendEvents","vNode","trigger","events","forEach","eventName","props","assign","originalHandler","handler","args","popoverBaseProps","show","type","Boolean","default","undefined","defaultShow","showArrow","String","delay","Number","duration","raw","placement","x","y","arrowPointToCenter","disabled","getDisabled","Function","displayDirective","arrowClass","arrowStyle","arrowWrapperClass","arrowWrapperStyle","flip","animated","width","overlap","keepAliveOnHover","zIndex","to","propTo","scrollable","contentClass","contentStyle","headerClass","headerStyle","footerClass","footerStyle","onClickoutside","Array","onUpdateShow","internalDeactivateImmediately","internalSyncTargetWithParent","internalInheritedEventHandlers","internalTrapFocus","internalExtraClass","onShow","onHide","arrow","minWidth","maxWidth","popoverProps","internalOnAfterLeave","internalRenderBody","name","inheritAttrs","__popover__","setup","process","env","NODE_ENV","isMountedRef","binderInstRef","controlledShowRef","uncontrolledShowRef","mergedShowWithoutDisabledRef","mergedShowConsideringDisabledPropRef","value","getMergedDisabled","getMergedShow","compatibleShowArrowRef","mergedShowArrowRef","bodyInstance","showTimerIdRef","hideTimerIdRef","positionManuallyRef","doUpdateShow","_onUpdateShow","syncPosition","clearShowTimer","showTimerId","window","clearTimeout","clearHideTimer","hideTimerId","handleFocus","mergedDisabled","handleBlur","handleMouseEnter","delayCallback","setTimeout","handleMouseLeave","delayedCallback","handleMouseMoveOutside","handleClickOutside","e","_a","handleClick","nextShow","handleKeydown","key","setShow","getTriggerElement","targetRef","setBodyInstance","zIndexRef","extraClassRef","internalRenderBodyRef","returned","positionManually","mergedShowConsideringDisabledProp","uncontrolledShow","mergedShowArrow","render","$slots","slots","triggerVNode","popoverInside","activator","handlers","onClick","onMouseenter","onMouseleave","onFocus","onBlur","ascendantAndCurrentHandlers","mergedHandlers","_handlers","syncTarget","syncTargetWithParent","mergedShow","style","position","inset","enabled","$props","$attrs","_b","header","footer"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/popover/src/Popover.js"],"sourcesContent":["import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n    focus: ['onFocus', 'onBlur'],\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    manual: [],\n    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n    triggerEventMap[trigger].forEach((eventName) => {\n        if (!vNode.props)\n            vNode.props = {};\n        else {\n            vNode.props = Object.assign({}, vNode.props);\n        }\n        const originalHandler = vNode.props[eventName];\n        const handler = events[eventName];\n        if (!originalHandler)\n            vNode.props[eventName] = handler;\n        else {\n            vNode.props[eventName] = (...args) => {\n                originalHandler(...args);\n                handler(...args);\n            };\n        }\n    });\n}\nexport const popoverBaseProps = {\n    show: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultShow: Boolean,\n    showArrow: {\n        type: Boolean,\n        default: true\n    },\n    trigger: {\n        type: String,\n        default: 'hover'\n    },\n    delay: {\n        type: Number,\n        default: 100\n    },\n    duration: {\n        type: Number,\n        default: 100\n    },\n    raw: Boolean,\n    placement: {\n        type: String,\n        default: 'top'\n    },\n    x: Number,\n    y: Number,\n    arrowPointToCenter: Boolean,\n    disabled: Boolean,\n    getDisabled: Function,\n    displayDirective: {\n        type: String,\n        default: 'if'\n    },\n    arrowClass: String,\n    arrowStyle: [String, Object],\n    arrowWrapperClass: String,\n    arrowWrapperStyle: [String, Object],\n    flip: {\n        type: Boolean,\n        default: true\n    },\n    animated: {\n        type: Boolean,\n        default: true\n    },\n    width: {\n        type: [Number, String],\n        default: undefined\n    },\n    overlap: Boolean,\n    keepAliveOnHover: {\n        type: Boolean,\n        default: true\n    },\n    zIndex: Number,\n    to: useAdjustedTo.propTo,\n    scrollable: Boolean,\n    contentClass: String,\n    contentStyle: [Object, String],\n    headerClass: String,\n    headerStyle: [Object, String],\n    footerClass: String,\n    footerStyle: [Object, String],\n    // events\n    onClickoutside: Function,\n    'onUpdate:show': [Function, Array],\n    onUpdateShow: [Function, Array],\n    // internal\n    internalDeactivateImmediately: Boolean,\n    internalSyncTargetWithParent: Boolean,\n    internalInheritedEventHandlers: {\n        type: Array,\n        default: () => []\n    },\n    internalTrapFocus: Boolean,\n    internalExtraClass: {\n        type: Array,\n        default: () => []\n    },\n    // deprecated\n    onShow: [Function, Array],\n    onHide: [Function, Array],\n    arrow: {\n        type: Boolean,\n        default: undefined\n    },\n    minWidth: Number,\n    maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { internalOnAfterLeave: Function, internalRenderBody: Function });\nexport default defineComponent({\n    name: 'Popover',\n    inheritAttrs: false,\n    props: popoverProps,\n    __popover__: true,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.maxWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.minWidth !== undefined) {\n                    warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n                }\n                if (props.arrow !== undefined) {\n                    warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const isMountedRef = useIsMounted();\n        const binderInstRef = ref(null);\n        // setup show\n        const controlledShowRef = computed(() => props.show);\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const mergedShowConsideringDisabledPropRef = useMemo(() => {\n            if (props.disabled)\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        });\n        const getMergedDisabled = () => {\n            if (props.disabled)\n                return true;\n            const { getDisabled } = props;\n            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())\n                return true;\n            return false;\n        };\n        const getMergedShow = () => {\n            if (getMergedDisabled())\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        };\n        // setup show-arrow\n        const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n        const mergedShowArrowRef = computed(() => {\n            if (props.overlap)\n                return false;\n            return compatibleShowArrowRef.value;\n        });\n        // bodyInstance\n        let bodyInstance = null;\n        const showTimerIdRef = ref(null);\n        const hideTimerIdRef = ref(null);\n        const positionManuallyRef = useMemo(() => {\n            return props.x !== undefined && props.y !== undefined;\n        });\n        // methods\n        function doUpdateShow(value) {\n            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;\n            uncontrolledShowRef.value = value;\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (value && onShow) {\n                call(onShow, true);\n            }\n            if (value && onHide) {\n                call(onHide, false);\n            }\n        }\n        function syncPosition() {\n            if (bodyInstance) {\n                bodyInstance.syncPosition();\n            }\n        }\n        function clearShowTimer() {\n            const { value: showTimerId } = showTimerIdRef;\n            if (showTimerId) {\n                window.clearTimeout(showTimerId);\n                showTimerIdRef.value = null;\n            }\n        }\n        function clearHideTimer() {\n            const { value: hideTimerId } = hideTimerIdRef;\n            if (hideTimerId) {\n                window.clearTimeout(hideTimerId);\n                hideTimerIdRef.value = null;\n            }\n        }\n        function handleFocus() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (getMergedShow())\n                    return;\n                doUpdateShow(true);\n            }\n        }\n        function handleBlur() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (!getMergedShow())\n                    return;\n                doUpdateShow(false);\n            }\n        }\n        function handleMouseEnter() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearHideTimer();\n                if (showTimerIdRef.value !== null)\n                    return;\n                if (getMergedShow())\n                    return;\n                const delayCallback = () => {\n                    doUpdateShow(true);\n                    showTimerIdRef.value = null;\n                };\n                const { delay } = props;\n                if (delay === 0) {\n                    delayCallback();\n                }\n                else {\n                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n                }\n            }\n        }\n        function handleMouseLeave() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearShowTimer();\n                if (hideTimerIdRef.value !== null)\n                    return;\n                if (!getMergedShow())\n                    return;\n                const delayedCallback = () => {\n                    doUpdateShow(false);\n                    hideTimerIdRef.value = null;\n                };\n                const { duration } = props;\n                if (duration === 0) {\n                    delayedCallback();\n                }\n                else {\n                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n                }\n            }\n        }\n        // will be called in popover-content\n        function handleMouseMoveOutside() {\n            handleMouseLeave();\n        }\n        // will be called in popover-content\n        function handleClickOutside(e) {\n            var _a;\n            if (!getMergedShow())\n                return;\n            if (props.trigger === 'click') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleClick() {\n            if (props.trigger === 'click' && !getMergedDisabled()) {\n                clearShowTimer();\n                clearHideTimer();\n                const nextShow = !getMergedShow();\n                doUpdateShow(nextShow);\n            }\n        }\n        function handleKeydown(e) {\n            if (!props.internalTrapFocus)\n                return;\n            if (e.key === 'Escape') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n        }\n        function setShow(value) {\n            uncontrolledShowRef.value = value;\n        }\n        function getTriggerElement() {\n            var _a;\n            // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n        }\n        function setBodyInstance(value) {\n            bodyInstance = value;\n        }\n        provide('NPopover', {\n            getTriggerElement,\n            handleKeydown,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleClickOutside,\n            handleMouseMoveOutside,\n            setBodyInstance,\n            positionManuallyRef,\n            isMountedRef,\n            zIndexRef: toRef(props, 'zIndex'),\n            extraClassRef: toRef(props, 'internalExtraClass'),\n            internalRenderBodyRef: toRef(props, 'internalRenderBody')\n        });\n        watchEffect(() => {\n            if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n                doUpdateShow(false);\n            }\n        });\n        const returned = {\n            binderInstRef,\n            positionManually: positionManuallyRef,\n            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n            // if to show popover body\n            uncontrolledShow: uncontrolledShowRef,\n            mergedShowArrow: mergedShowArrowRef,\n            getMergedShow,\n            setShow,\n            handleClick,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleFocus,\n            handleBlur,\n            syncPosition\n        };\n        return returned;\n    },\n    render() {\n        var _a;\n        const { positionManually, $slots: slots } = this;\n        let triggerVNode;\n        let popoverInside = false;\n        if (!positionManually) {\n            if (slots.activator) {\n                triggerVNode = getFirstSlotVNode(slots, 'activator');\n            }\n            else {\n                triggerVNode = getFirstSlotVNode(slots, 'trigger');\n            }\n            if (triggerVNode) {\n                triggerVNode = cloneVNode(triggerVNode);\n                triggerVNode =\n                    triggerVNode.type === Text ? h('span', [triggerVNode]) : triggerVNode;\n                const handlers = {\n                    onClick: this.handleClick,\n                    onMouseenter: this.handleMouseEnter,\n                    onMouseleave: this.handleMouseLeave,\n                    onFocus: this.handleFocus,\n                    onBlur: this.handleBlur\n                };\n                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n                    popoverInside = true;\n                    // We assume that there's no DOM event handlers on popover element\n                    if (!triggerVNode.props) {\n                        triggerVNode.props = {\n                            internalSyncTargetWithParent: true,\n                            internalInheritedEventHandlers: []\n                        };\n                    }\n                    triggerVNode.props.internalSyncTargetWithParent = true;\n                    if (!triggerVNode.props.internalInheritedEventHandlers) {\n                        triggerVNode.props.internalInheritedEventHandlers = [handlers];\n                    }\n                    else {\n                        triggerVNode.props.internalInheritedEventHandlers = [\n                            handlers,\n                            ...triggerVNode.props.internalInheritedEventHandlers\n                        ];\n                    }\n                }\n                else {\n                    const { internalInheritedEventHandlers } = this;\n                    const ascendantAndCurrentHandlers = [\n                        handlers,\n                        ...internalInheritedEventHandlers\n                    ];\n                    const mergedHandlers = {\n                        onBlur: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onFocus: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onFocus(e);\n                            });\n                        },\n                        onClick: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onClick(e);\n                            });\n                        },\n                        onMouseenter: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseenter(e);\n                            });\n                        },\n                        onMouseleave: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseleave(e);\n                            });\n                        }\n                    };\n                    appendEvents(triggerVNode, internalInheritedEventHandlers\n                        ? 'nested'\n                        : positionManually\n                            ? 'manual'\n                            : this.trigger, mergedHandlers);\n                }\n            }\n        }\n        return (h(VBinder, { ref: \"binderInstRef\", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {\n            default: () => {\n                // We need to subscribe it. Sometimes rerender won't ge triggered.\n                // `mergedShowConsideringDisabledProp` is not the final disabled status.\n                // In ellpisis it's dynamic.\n                void this.mergedShowConsideringDisabledProp;\n                const mergedShow = this.getMergedShow();\n                return [\n                    this.internalTrapFocus && mergedShow\n                        ? withDirectives(h(\"div\", { style: { position: 'fixed', inset: 0 } }), [\n                            [\n                                zindexable,\n                                {\n                                    enabled: mergedShow,\n                                    zIndex: this.zIndex\n                                }\n                            ]\n                        ])\n                        : null,\n                    positionManually\n                        ? null\n                        : h(VTarget, null, {\n                            default: () => triggerVNode\n                        }),\n                    h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), {\n                        default: () => { var _a, _b; return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        header: () => { var _a, _b; return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        footer: () => { var _a, _b; return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                    })\n                ];\n            }\n        }));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}