{"ast":null,"code":"import { computed, defineComponent, h, Transition, ref, watchEffect } from 'vue';\nimport { useCompitable } from 'vooks';\nimport { pxfy } from 'seemly';\nimport { NBaseLoading } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey, warnOnce } from '../../_utils';\nimport { spinLight } from '../styles';\nimport style from './styles/index.cssr';\nconst STROKE_WIDTH = {\n  small: 20,\n  medium: 18,\n  large: 16\n};\nexport const spinProps = Object.assign(Object.assign({}, useTheme.props), {\n  contentClass: String,\n  contentStyle: [Object, String],\n  description: String,\n  stroke: String,\n  size: {\n    type: [String, Number],\n    default: 'medium'\n  },\n  show: {\n    type: Boolean,\n    default: true\n  },\n  strokeWidth: Number,\n  rotate: {\n    type: Boolean,\n    default: true\n  },\n  spinning: {\n    type: Boolean,\n    validator: () => {\n      return true;\n    },\n    default: undefined\n  },\n  delay: Number\n});\nexport default defineComponent({\n  name: 'Spin',\n  props: spinProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.spinning !== undefined) {\n          warnOnce('spin', '`spinning` is deprecated, please use `show` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Spin', '-spin', style, spinLight, props, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        size: spinSize\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self\n      } = themeRef.value;\n      const {\n        opacitySpinning,\n        color,\n        textColor\n      } = self;\n      const size = typeof spinSize === 'number' ? pxfy(spinSize) : self[createKey('size', spinSize)];\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-opacity-spinning': opacitySpinning,\n        '--n-size': size,\n        '--n-color': color,\n        '--n-text-color': textColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('spin', computed(() => {\n      const {\n        size\n      } = props;\n      return typeof size === 'number' ? String(size) : size[0];\n    }), cssVarsRef, props) : undefined;\n    const compitableShow = useCompitable(props, ['spinning', 'show']);\n    const activeRef = ref(false);\n    watchEffect(onCleanup => {\n      let timerId;\n      if (compitableShow.value) {\n        const {\n          delay\n        } = props;\n        if (delay) {\n          timerId = window.setTimeout(() => {\n            activeRef.value = true;\n          }, delay);\n          onCleanup(() => {\n            clearTimeout(timerId);\n          });\n          return;\n        }\n      }\n      activeRef.value = compitableShow.value;\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      active: activeRef,\n      mergedStrokeWidth: computed(() => {\n        const {\n          strokeWidth\n        } = props;\n        if (strokeWidth !== undefined) return strokeWidth;\n        const {\n          size\n        } = props;\n        return STROKE_WIDTH[typeof size === 'number' ? 'medium' : size];\n      }),\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    var _a, _b;\n    const {\n      $slots,\n      mergedClsPrefix,\n      description\n    } = this;\n    const rotate = $slots.icon && this.rotate;\n    const descriptionNode = (description || $slots.description) && h(\"div\", {\n      class: `${mergedClsPrefix}-spin-description`\n    }, description || ((_a = $slots.description) === null || _a === void 0 ? void 0 : _a.call($slots)));\n    const icon = $slots.icon ? h(\"div\", {\n      class: [`${mergedClsPrefix}-spin-body`, this.themeClass]\n    }, h(\"div\", {\n      class: [`${mergedClsPrefix}-spin`, rotate && `${mergedClsPrefix}-spin--rotate`],\n      style: $slots.default ? '' : this.cssVars\n    }, $slots.icon()), descriptionNode) : h(\"div\", {\n      class: [`${mergedClsPrefix}-spin-body`, this.themeClass]\n    }, h(NBaseLoading, {\n      clsPrefix: mergedClsPrefix,\n      style: $slots.default ? '' : this.cssVars,\n      stroke: this.stroke,\n      \"stroke-width\": this.mergedStrokeWidth,\n      class: `${mergedClsPrefix}-spin`\n    }), descriptionNode);\n    (_b = this.onRender) === null || _b === void 0 ? void 0 : _b.call(this);\n    return $slots.default ? h(\"div\", {\n      class: [`${mergedClsPrefix}-spin-container`, this.themeClass],\n      style: this.cssVars\n    }, h(\"div\", {\n      class: [`${mergedClsPrefix}-spin-content`, this.active && `${mergedClsPrefix}-spin-content--spinning`, this.contentClass],\n      style: this.contentStyle\n    }, $slots), h(Transition, {\n      name: \"fade-in-transition\"\n    }, {\n      default: () => this.active ? icon : null\n    })) : icon;\n  }\n});","map":{"version":3,"names":["computed","defineComponent","h","Transition","ref","watchEffect","useCompitable","pxfy","NBaseLoading","useConfig","useTheme","useThemeClass","createKey","warnOnce","spinLight","style","STROKE_WIDTH","small","medium","large","spinProps","Object","assign","props","contentClass","String","contentStyle","description","stroke","size","type","Number","default","show","Boolean","strokeWidth","rotate","spinning","validator","undefined","delay","name","setup","process","env","NODE_ENV","mergedClsPrefixRef","inlineThemeDisabled","themeRef","cssVarsRef","spinSize","common","cubicBezierEaseInOut","self","value","opacitySpinning","color","textColor","themeClassHandle","compitableShow","activeRef","onCleanup","timerId","window","setTimeout","clearTimeout","mergedClsPrefix","active","mergedStrokeWidth","cssVars","themeClass","onRender","render","_a","_b","$slots","icon","descriptionNode","class","call","clsPrefix"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/spin/src/Spin.js"],"sourcesContent":["import { computed, defineComponent, h, Transition, ref, watchEffect } from 'vue';\nimport { useCompitable } from 'vooks';\nimport { pxfy } from 'seemly';\nimport { NBaseLoading } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey, warnOnce } from '../../_utils';\nimport { spinLight } from '../styles';\nimport style from './styles/index.cssr';\nconst STROKE_WIDTH = {\n    small: 20,\n    medium: 18,\n    large: 16\n};\nexport const spinProps = Object.assign(Object.assign({}, useTheme.props), { contentClass: String, contentStyle: [Object, String], description: String, stroke: String, size: {\n        type: [String, Number],\n        default: 'medium'\n    }, show: {\n        type: Boolean,\n        default: true\n    }, strokeWidth: Number, rotate: {\n        type: Boolean,\n        default: true\n    }, spinning: {\n        type: Boolean,\n        validator: () => {\n            return true;\n        },\n        default: undefined\n    }, delay: Number });\nexport default defineComponent({\n    name: 'Spin',\n    props: spinProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.spinning !== undefined) {\n                    warnOnce('spin', '`spinning` is deprecated, please use `show` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Spin', '-spin', style, spinLight, props, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { size: spinSize } = props;\n            const { common: { cubicBezierEaseInOut }, self } = themeRef.value;\n            const { opacitySpinning, color, textColor } = self;\n            const size = typeof spinSize === 'number'\n                ? pxfy(spinSize)\n                : self[createKey('size', spinSize)];\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-opacity-spinning': opacitySpinning,\n                '--n-size': size,\n                '--n-color': color,\n                '--n-text-color': textColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('spin', computed(() => {\n                const { size } = props;\n                return typeof size === 'number' ? String(size) : size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        const compitableShow = useCompitable(props, ['spinning', 'show']);\n        const activeRef = ref(false);\n        watchEffect((onCleanup) => {\n            let timerId;\n            if (compitableShow.value) {\n                const { delay } = props;\n                if (delay) {\n                    timerId = window.setTimeout(() => {\n                        activeRef.value = true;\n                    }, delay);\n                    onCleanup(() => {\n                        clearTimeout(timerId);\n                    });\n                    return;\n                }\n            }\n            activeRef.value = compitableShow.value;\n        });\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            active: activeRef,\n            mergedStrokeWidth: computed(() => {\n                const { strokeWidth } = props;\n                if (strokeWidth !== undefined)\n                    return strokeWidth;\n                const { size } = props;\n                return STROKE_WIDTH[typeof size === 'number' ? 'medium' : size];\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a, _b;\n        const { $slots, mergedClsPrefix, description } = this;\n        const rotate = $slots.icon && this.rotate;\n        const descriptionNode = (description || $slots.description) && (h(\"div\", { class: `${mergedClsPrefix}-spin-description` }, description || ((_a = $slots.description) === null || _a === void 0 ? void 0 : _a.call($slots))));\n        const icon = $slots.icon ? (h(\"div\", { class: [`${mergedClsPrefix}-spin-body`, this.themeClass] },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-spin`,\n                    rotate && `${mergedClsPrefix}-spin--rotate`\n                ], style: $slots.default ? '' : this.cssVars }, $slots.icon()),\n            descriptionNode)) : (h(\"div\", { class: [`${mergedClsPrefix}-spin-body`, this.themeClass] },\n            h(NBaseLoading, { clsPrefix: mergedClsPrefix, style: $slots.default ? '' : this.cssVars, stroke: this.stroke, \"stroke-width\": this.mergedStrokeWidth, class: `${mergedClsPrefix}-spin` }),\n            descriptionNode));\n        (_b = this.onRender) === null || _b === void 0 ? void 0 : _b.call(this);\n        return $slots.default ? (h(\"div\", { class: [`${mergedClsPrefix}-spin-container`, this.themeClass], style: this.cssVars },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-spin-content`,\n                    this.active && `${mergedClsPrefix}-spin-content--spinning`,\n                    this.contentClass\n                ], style: this.contentStyle }, $slots),\n            h(Transition, { name: \"fade-in-transition\" }, {\n                default: () => (this.active ? icon : null)\n            }))) : (icon);\n    }\n});\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,eAAe,EAAEC,CAAC,EAAEC,UAAU,EAAEC,GAAG,EAAEC,WAAW,QAAQ,KAAK;AAChF,SAASC,aAAa,QAAQ,OAAO;AACrC,SAASC,IAAI,QAAQ,QAAQ;AAC7B,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,eAAe;AAClE,SAASC,SAAS,EAAEC,QAAQ,QAAQ,cAAc;AAClD,SAASC,SAAS,QAAQ,WAAW;AACrC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE;AACX,CAAC;AACD,OAAO,MAAMC,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEZ,QAAQ,CAACa,KAAK,CAAC,EAAE;EAAEC,YAAY,EAAEC,MAAM;EAAEC,YAAY,EAAE,CAACL,MAAM,EAAEI,MAAM,CAAC;EAAEE,WAAW,EAAEF,MAAM;EAAEG,MAAM,EAAEH,MAAM;EAAEI,IAAI,EAAE;IACrKC,IAAI,EAAE,CAACL,MAAM,EAAEM,MAAM,CAAC;IACtBC,OAAO,EAAE;EACb,CAAC;EAAEC,IAAI,EAAE;IACLH,IAAI,EAAEI,OAAO;IACbF,OAAO,EAAE;EACb,CAAC;EAAEG,WAAW,EAAEJ,MAAM;EAAEK,MAAM,EAAE;IAC5BN,IAAI,EAAEI,OAAO;IACbF,OAAO,EAAE;EACb,CAAC;EAAEK,QAAQ,EAAE;IACTP,IAAI,EAAEI,OAAO;IACbI,SAAS,EAAEA,CAAA,KAAM;MACb,OAAO,IAAI;IACf,CAAC;IACDN,OAAO,EAAEO;EACb,CAAC;EAAEC,KAAK,EAAET;AAAO,CAAC,CAAC;AACvB,eAAe9B,eAAe,CAAC;EAC3BwC,IAAI,EAAE,MAAM;EACZlB,KAAK,EAAEH,SAAS;EAChBsB,KAAKA,CAACnB,KAAK,EAAE;IACT,IAAIoB,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACvCxC,WAAW,CAAC,MAAM;QACd,IAAIkB,KAAK,CAACc,QAAQ,KAAKE,SAAS,EAAE;UAC9B1B,QAAQ,CAAC,MAAM,EAAE,sDAAsD,CAAC;QAC5E;MACJ,CAAC,CAAC;IACN;IACA,MAAM;MAAEiC,kBAAkB;MAAEC;IAAoB,CAAC,GAAGtC,SAAS,CAACc,KAAK,CAAC;IACpE,MAAMyB,QAAQ,GAAGtC,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAEK,KAAK,EAAED,SAAS,EAAES,KAAK,EAAEuB,kBAAkB,CAAC;IACvF,MAAMG,UAAU,GAAGjD,QAAQ,CAAC,MAAM;MAC9B,MAAM;QAAE6B,IAAI,EAAEqB;MAAS,CAAC,GAAG3B,KAAK;MAChC,MAAM;QAAE4B,MAAM,EAAE;UAAEC;QAAqB,CAAC;QAAEC;MAAK,CAAC,GAAGL,QAAQ,CAACM,KAAK;MACjE,MAAM;QAAEC,eAAe;QAAEC,KAAK;QAAEC;MAAU,CAAC,GAAGJ,IAAI;MAClD,MAAMxB,IAAI,GAAG,OAAOqB,QAAQ,KAAK,QAAQ,GACnC3C,IAAI,CAAC2C,QAAQ,CAAC,GACdG,IAAI,CAACzC,SAAS,CAAC,MAAM,EAAEsC,QAAQ,CAAC,CAAC;MACvC,OAAO;QACH,YAAY,EAAEE,oBAAoB;QAClC,sBAAsB,EAAEG,eAAe;QACvC,UAAU,EAAE1B,IAAI;QAChB,WAAW,EAAE2B,KAAK;QAClB,gBAAgB,EAAEC;MACtB,CAAC;IACL,CAAC,CAAC;IACF,MAAMC,gBAAgB,GAAGX,mBAAmB,GACtCpC,aAAa,CAAC,MAAM,EAAEX,QAAQ,CAAC,MAAM;MACnC,MAAM;QAAE6B;MAAK,CAAC,GAAGN,KAAK;MACtB,OAAO,OAAOM,IAAI,KAAK,QAAQ,GAAGJ,MAAM,CAACI,IAAI,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAC,CAAC,EAAEoB,UAAU,EAAE1B,KAAK,CAAC,GACpBgB,SAAS;IACf,MAAMoB,cAAc,GAAGrD,aAAa,CAACiB,KAAK,EAAE,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IACjE,MAAMqC,SAAS,GAAGxD,GAAG,CAAC,KAAK,CAAC;IAC5BC,WAAW,CAAEwD,SAAS,IAAK;MACvB,IAAIC,OAAO;MACX,IAAIH,cAAc,CAACL,KAAK,EAAE;QACtB,MAAM;UAAEd;QAAM,CAAC,GAAGjB,KAAK;QACvB,IAAIiB,KAAK,EAAE;UACPsB,OAAO,GAAGC,MAAM,CAACC,UAAU,CAAC,MAAM;YAC9BJ,SAAS,CAACN,KAAK,GAAG,IAAI;UAC1B,CAAC,EAAEd,KAAK,CAAC;UACTqB,SAAS,CAAC,MAAM;YACZI,YAAY,CAACH,OAAO,CAAC;UACzB,CAAC,CAAC;UACF;QACJ;MACJ;MACAF,SAAS,CAACN,KAAK,GAAGK,cAAc,CAACL,KAAK;IAC1C,CAAC,CAAC;IACF,OAAO;MACHY,eAAe,EAAEpB,kBAAkB;MACnCqB,MAAM,EAAEP,SAAS;MACjBQ,iBAAiB,EAAEpE,QAAQ,CAAC,MAAM;QAC9B,MAAM;UAAEmC;QAAY,CAAC,GAAGZ,KAAK;QAC7B,IAAIY,WAAW,KAAKI,SAAS,EACzB,OAAOJ,WAAW;QACtB,MAAM;UAAEN;QAAK,CAAC,GAAGN,KAAK;QACtB,OAAOP,YAAY,CAAC,OAAOa,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAGA,IAAI,CAAC;MACnE,CAAC,CAAC;MACFwC,OAAO,EAAEtB,mBAAmB,GAAGR,SAAS,GAAGU,UAAU;MACrDqB,UAAU,EAAEZ,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACY,UAAU;MAC3GC,QAAQ,EAAEb,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACa;IACnG,CAAC;EACL,CAAC;EACDC,MAAMA,CAAA,EAAG;IACL,IAAIC,EAAE,EAAEC,EAAE;IACV,MAAM;MAAEC,MAAM;MAAET,eAAe;MAAEvC;IAAY,CAAC,GAAG,IAAI;IACrD,MAAMS,MAAM,GAAGuC,MAAM,CAACC,IAAI,IAAI,IAAI,CAACxC,MAAM;IACzC,MAAMyC,eAAe,GAAG,CAAClD,WAAW,IAAIgD,MAAM,CAAChD,WAAW,KAAMzB,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAG,GAAEZ,eAAgB;IAAmB,CAAC,EAAEvC,WAAW,KAAK,CAAC8C,EAAE,GAAGE,MAAM,CAAChD,WAAW,MAAM,IAAI,IAAI8C,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,IAAI,CAACJ,MAAM,CAAC,CAAC,CAAE;IAC5N,MAAMC,IAAI,GAAGD,MAAM,CAACC,IAAI,GAAI1E,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAE,CAAE,GAAEZ,eAAgB,YAAW,EAAE,IAAI,CAACI,UAAU;IAAE,CAAC,EAC7FpE,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAE,CACT,GAAEZ,eAAgB,OAAM,EACzB9B,MAAM,IAAK,GAAE8B,eAAgB,eAAc,CAC9C;MAAEnD,KAAK,EAAE4D,MAAM,CAAC3C,OAAO,GAAG,EAAE,GAAG,IAAI,CAACqC;IAAQ,CAAC,EAAEM,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,EAClEC,eAAe,CAAC,GAAK3E,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAE,CAAE,GAAEZ,eAAgB,YAAW,EAAE,IAAI,CAACI,UAAU;IAAE,CAAC,EAC1FpE,CAAC,CAACM,YAAY,EAAE;MAAEwE,SAAS,EAAEd,eAAe;MAAEnD,KAAK,EAAE4D,MAAM,CAAC3C,OAAO,GAAG,EAAE,GAAG,IAAI,CAACqC,OAAO;MAAEzC,MAAM,EAAE,IAAI,CAACA,MAAM;MAAE,cAAc,EAAE,IAAI,CAACwC,iBAAiB;MAAEU,KAAK,EAAG,GAAEZ,eAAgB;IAAO,CAAC,CAAC,EACzLW,eAAe,CAAE;IACrB,CAACH,EAAE,GAAG,IAAI,CAACH,QAAQ,MAAM,IAAI,IAAIG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,IAAI,CAAC,IAAI,CAAC;IACvE,OAAOJ,MAAM,CAAC3C,OAAO,GAAI9B,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAE,CAAE,GAAEZ,eAAgB,iBAAgB,EAAE,IAAI,CAACI,UAAU,CAAC;MAAEvD,KAAK,EAAE,IAAI,CAACsD;IAAQ,CAAC,EACpHnE,CAAC,CAAC,KAAK,EAAE;MAAE4E,KAAK,EAAE,CACT,GAAEZ,eAAgB,eAAc,EACjC,IAAI,CAACC,MAAM,IAAK,GAAED,eAAgB,yBAAwB,EAC1D,IAAI,CAAC1C,YAAY,CACpB;MAAET,KAAK,EAAE,IAAI,CAACW;IAAa,CAAC,EAAEiD,MAAM,CAAC,EAC1CzE,CAAC,CAACC,UAAU,EAAE;MAAEsC,IAAI,EAAE;IAAqB,CAAC,EAAE;MAC1CT,OAAO,EAAEA,CAAA,KAAO,IAAI,CAACmC,MAAM,GAAGS,IAAI,GAAG;IACzC,CAAC,CAAC,CAAC,GAAKA,IAAK;EACrB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}