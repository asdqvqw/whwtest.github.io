{"ast":null,"code":"import { h, computed, defineComponent, nextTick, ref, toRef, onMounted, getCurrentInstance, watch, watchEffect, provide, Fragment } from 'vue';\nimport { useMergedState, useMemo } from 'vooks';\nimport { getPadding } from 'seemly';\nimport { VResizeObserver } from 'vueuc';\nimport { off, on } from 'evtd';\nimport { isSafari } from '../../_utils/env/browser';\nimport { EyeIcon, EyeOffIcon } from '../../_internal/icons';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { NBaseClear, NBaseIcon, NBaseSuffix, NScrollbar } from '../../_internal';\nimport { useTheme, useLocale, useFormItem, useConfig, useThemeClass, useStyle } from '../../_mixins';\nimport { call, createKey, resolveSlot, resolveWrappedSlot, warnOnce } from '../../_utils';\nimport { inputLight } from '../styles';\nimport { inputInjectionKey } from './interface';\nimport { isEmptyInputValue, useCursor } from './utils';\nimport WordCount from './WordCount';\nimport style, { safariStyle } from './styles/input.cssr';\nexport const inputProps = Object.assign(Object.assign({}, useTheme.props), {\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  type: {\n    type: String,\n    default: 'text'\n  },\n  placeholder: [Array, String],\n  defaultValue: {\n    type: [String, Array],\n    default: null\n  },\n  value: [String, Array],\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  size: String,\n  rows: {\n    type: [Number, String],\n    default: 3\n  },\n  round: Boolean,\n  minlength: [String, Number],\n  maxlength: [String, Number],\n  clearable: Boolean,\n  autosize: {\n    type: [Boolean, Object],\n    default: false\n  },\n  pair: Boolean,\n  separator: String,\n  readonly: {\n    type: [String, Boolean],\n    default: false\n  },\n  passivelyActivated: Boolean,\n  showPasswordOn: String,\n  stateful: {\n    type: Boolean,\n    default: true\n  },\n  autofocus: Boolean,\n  inputProps: Object,\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  showCount: Boolean,\n  loading: {\n    type: Boolean,\n    default: undefined\n  },\n  allowInput: Function,\n  renderCount: Function,\n  onMousedown: Function,\n  onKeydown: Function,\n  onKeyup: [Function, Array],\n  onInput: [Function, Array],\n  onFocus: [Function, Array],\n  onBlur: [Function, Array],\n  onClick: [Function, Array],\n  onChange: [Function, Array],\n  onClear: [Function, Array],\n  countGraphemes: Function,\n  status: String,\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array],\n  /** private */\n  textDecoration: [String, Array],\n  attrSize: {\n    type: Number,\n    default: 20\n  },\n  onInputBlur: [Function, Array],\n  onInputFocus: [Function, Array],\n  onDeactivate: [Function, Array],\n  onActivate: [Function, Array],\n  onWrapperFocus: [Function, Array],\n  onWrapperBlur: [Function, Array],\n  internalDeactivateOnEnter: Boolean,\n  internalForceFocus: Boolean,\n  internalLoadingBeforeSuffix: {\n    type: Boolean,\n    default: true\n  },\n  /** deprecated */\n  showPasswordToggle: Boolean\n});\nexport default defineComponent({\n  name: 'Input',\n  props: inputProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.showPasswordToggle) {\n          warnOnce('input', '`show-password-toggle` is deprecated, please use `showPasswordOn=\"click\"` instead');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Input', '-input', style, inputLight, props, mergedClsPrefixRef);\n    if (isSafari) {\n      useStyle('-input-safari', safariStyle, mergedClsPrefixRef);\n    }\n    // dom refs\n    const wrapperElRef = ref(null);\n    const textareaElRef = ref(null);\n    const textareaMirrorElRef = ref(null);\n    const inputMirrorElRef = ref(null);\n    const inputElRef = ref(null);\n    const inputEl2Ref = ref(null);\n    const currentFocusedInputRef = ref(null);\n    const focusedInputCursorControl = useCursor(currentFocusedInputRef);\n    const textareaScrollbarInstRef = ref(null);\n    // local\n    const {\n      localeRef\n    } = useLocale('Input');\n    // value\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    // form-item\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    // states\n    const focusedRef = ref(false);\n    const hoverRef = ref(false);\n    const isComposingRef = ref(false);\n    const activatedRef = ref(false);\n    let syncSource = null;\n    // placeholder\n    const mergedPlaceholderRef = computed(() => {\n      const {\n        placeholder,\n        pair\n      } = props;\n      if (pair) {\n        if (Array.isArray(placeholder)) {\n          return placeholder;\n        } else if (placeholder === undefined) {\n          return ['', ''];\n        }\n        return [placeholder, placeholder];\n      } else if (placeholder === undefined) {\n        return [localeRef.value.placeholder];\n      } else {\n        return [placeholder];\n      }\n    });\n    const showPlaceholder1Ref = computed(() => {\n      const {\n        value: isComposing\n      } = isComposingRef;\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      const {\n        value: mergedPlaceholder\n      } = mergedPlaceholderRef;\n      return !isComposing && (isEmptyInputValue(mergedValue) || Array.isArray(mergedValue) && isEmptyInputValue(mergedValue[0])) && mergedPlaceholder[0];\n    });\n    const showPlaceholder2Ref = computed(() => {\n      const {\n        value: isComposing\n      } = isComposingRef;\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      const {\n        value: mergedPlaceholder\n      } = mergedPlaceholderRef;\n      return !isComposing && mergedPlaceholder[1] && (isEmptyInputValue(mergedValue) || Array.isArray(mergedValue) && isEmptyInputValue(mergedValue[1]));\n    });\n    // focus\n    const mergedFocusRef = useMemo(() => {\n      return props.internalForceFocus || focusedRef.value;\n    });\n    // clear\n    const showClearButton = useMemo(() => {\n      if (mergedDisabledRef.value || props.readonly || !props.clearable || !mergedFocusRef.value && !hoverRef.value) {\n        return false;\n      }\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      const {\n        value: mergedFocus\n      } = mergedFocusRef;\n      if (props.pair) {\n        return !!(Array.isArray(mergedValue) && (mergedValue[0] || mergedValue[1])) && (hoverRef.value || mergedFocus);\n      } else {\n        return !!mergedValue && (hoverRef.value || mergedFocus);\n      }\n    });\n    // passwordVisible\n    const mergedShowPasswordOnRef = computed(() => {\n      const {\n        showPasswordOn\n      } = props;\n      if (showPasswordOn) {\n        return showPasswordOn;\n      }\n      if (props.showPasswordToggle) return 'click';\n      return undefined;\n    });\n    const passwordVisibleRef = ref(false);\n    // text-decoration\n    const textDecorationStyleRef = computed(() => {\n      const {\n        textDecoration\n      } = props;\n      if (!textDecoration) return ['', ''];\n      if (Array.isArray(textDecoration)) {\n        return textDecoration.map(v => ({\n          textDecoration: v\n        }));\n      }\n      return [{\n        textDecoration\n      }];\n    });\n    const textAreaScrollContainerWidthRef = ref(undefined);\n    // textarea autosize\n    const updateTextAreaStyle = () => {\n      var _a, _b;\n      if (props.type === 'textarea') {\n        const {\n          autosize\n        } = props;\n        if (autosize) {\n          textAreaScrollContainerWidthRef.value = (_b = (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.offsetWidth;\n        }\n        if (!textareaElRef.value) return;\n        if (typeof autosize === 'boolean') return;\n        const {\n          paddingTop: stylePaddingTop,\n          paddingBottom: stylePaddingBottom,\n          lineHeight: styleLineHeight\n        } = window.getComputedStyle(textareaElRef.value);\n        const paddingTop = Number(stylePaddingTop.slice(0, -2));\n        const paddingBottom = Number(stylePaddingBottom.slice(0, -2));\n        const lineHeight = Number(styleLineHeight.slice(0, -2));\n        const {\n          value: textareaMirrorEl\n        } = textareaMirrorElRef;\n        if (!textareaMirrorEl) return;\n        if (autosize.minRows) {\n          const minRows = Math.max(autosize.minRows, 1);\n          const styleMinHeight = `${paddingTop + paddingBottom + lineHeight * minRows}px`;\n          textareaMirrorEl.style.minHeight = styleMinHeight;\n        }\n        if (autosize.maxRows) {\n          const styleMaxHeight = `${paddingTop + paddingBottom + lineHeight * autosize.maxRows}px`;\n          textareaMirrorEl.style.maxHeight = styleMaxHeight;\n        }\n      }\n    };\n    // word count\n    const maxlengthRef = computed(() => {\n      const {\n        maxlength\n      } = props;\n      return maxlength === undefined ? undefined : Number(maxlength);\n    });\n    onMounted(() => {\n      // sync mirror if is not pair\n      const {\n        value\n      } = mergedValueRef;\n      if (!Array.isArray(value)) {\n        syncMirror(value);\n      }\n    });\n    // other methods\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const vm = getCurrentInstance().proxy;\n    function doUpdateValue(value) {\n      const {\n        onUpdateValue,\n        'onUpdate:value': _onUpdateValue,\n        onInput\n      } = props;\n      const {\n        nTriggerFormInput\n      } = formItem;\n      if (onUpdateValue) call(onUpdateValue, value);\n      if (_onUpdateValue) call(_onUpdateValue, value);\n      if (onInput) call(onInput, value);\n      uncontrolledValueRef.value = value;\n      nTriggerFormInput();\n    }\n    function doChange(value) {\n      const {\n        onChange\n      } = props;\n      const {\n        nTriggerFormChange\n      } = formItem;\n      if (onChange) call(onChange, value);\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n    }\n    function doClear(e) {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear, e);\n    }\n    function doUpdateValueBlur(e) {\n      const {\n        onInputBlur\n      } = props;\n      if (onInputBlur) call(onInputBlur, e);\n    }\n    function doUpdateValueFocus(e) {\n      const {\n        onInputFocus\n      } = props;\n      if (onInputFocus) call(onInputFocus, e);\n    }\n    function doDeactivate() {\n      const {\n        onDeactivate\n      } = props;\n      if (onDeactivate) call(onDeactivate);\n    }\n    function doActivate() {\n      const {\n        onActivate\n      } = props;\n      if (onActivate) call(onActivate);\n    }\n    function doClick(e) {\n      const {\n        onClick\n      } = props;\n      if (onClick) call(onClick, e);\n    }\n    function doWrapperFocus(e) {\n      const {\n        onWrapperFocus\n      } = props;\n      if (onWrapperFocus) call(onWrapperFocus, e);\n    }\n    function doWrapperBlur(e) {\n      const {\n        onWrapperBlur\n      } = props;\n      if (onWrapperBlur) call(onWrapperBlur, e);\n    }\n    // methods\n    function handleCompositionStart() {\n      isComposingRef.value = true;\n    }\n    function handleCompositionEnd(e) {\n      isComposingRef.value = false;\n      if (e.target === inputEl2Ref.value) {\n        handleInput(e, 1);\n      } else {\n        handleInput(e, 0);\n      }\n    }\n    function handleInput(e, index = 0, event = 'input') {\n      const targetValue = e.target.value;\n      syncMirror(targetValue);\n      if (e instanceof InputEvent && !e.isComposing) {\n        isComposingRef.value = false;\n      }\n      if (props.type === 'textarea') {\n        const {\n          value: textareaScrollbarInst\n        } = textareaScrollbarInstRef;\n        if (textareaScrollbarInst) {\n          textareaScrollbarInst.syncUnifiedContainer();\n        }\n      }\n      syncSource = targetValue;\n      if (isComposingRef.value) return;\n      focusedInputCursorControl.recordCursor();\n      const isIncomingValueValid = allowInput(targetValue);\n      if (isIncomingValueValid) {\n        if (!props.pair) {\n          event === 'input' ? doUpdateValue(targetValue) : doChange(targetValue);\n        } else {\n          let {\n            value\n          } = mergedValueRef;\n          if (!Array.isArray(value)) {\n            value = ['', ''];\n          } else {\n            value = [value[0], value[1]];\n          }\n          value[index] = targetValue;\n          event === 'input' ? doUpdateValue(value) : doChange(value);\n        }\n      }\n      // force update to sync input's view with value\n      // if not set, after input, input value won't sync with dom input value\n      vm.$forceUpdate();\n      if (!isIncomingValueValid) {\n        void nextTick(focusedInputCursorControl.restoreCursor);\n      }\n    }\n    function allowInput(value) {\n      const {\n        countGraphemes,\n        maxlength,\n        minlength\n      } = props;\n      if (countGraphemes) {\n        let graphemesCount;\n        if (maxlength !== undefined) {\n          if (graphemesCount === undefined) {\n            graphemesCount = countGraphemes(value);\n          }\n          if (graphemesCount > Number(maxlength)) return false;\n        }\n        if (minlength !== undefined) {\n          if (graphemesCount === undefined) {\n            graphemesCount = countGraphemes(value);\n          }\n          if (graphemesCount < Number(maxlength)) return false;\n        }\n      }\n      const {\n        allowInput\n      } = props;\n      if (typeof allowInput === 'function') {\n        return allowInput(value);\n      }\n      return true;\n    }\n    function handleInputBlur(e) {\n      doUpdateValueBlur(e);\n      if (e.relatedTarget === wrapperElRef.value) {\n        doDeactivate();\n      }\n      if (!(e.relatedTarget !== null && (e.relatedTarget === inputElRef.value || e.relatedTarget === inputEl2Ref.value || e.relatedTarget === textareaElRef.value))) {\n        activatedRef.value = false;\n      }\n      dealWithEvent(e, 'blur');\n      currentFocusedInputRef.value = null;\n    }\n    function handleInputFocus(e, index) {\n      doUpdateValueFocus(e);\n      focusedRef.value = true;\n      activatedRef.value = true;\n      doActivate();\n      dealWithEvent(e, 'focus');\n      if (index === 0) {\n        currentFocusedInputRef.value = inputElRef.value;\n      } else if (index === 1) {\n        currentFocusedInputRef.value = inputEl2Ref.value;\n      } else if (index === 2) {\n        currentFocusedInputRef.value = textareaElRef.value;\n      }\n    }\n    function handleWrapperBlur(e) {\n      if (props.passivelyActivated) {\n        doWrapperBlur(e);\n        dealWithEvent(e, 'blur');\n      }\n    }\n    function handleWrapperFocus(e) {\n      if (props.passivelyActivated) {\n        focusedRef.value = true;\n        doWrapperFocus(e);\n        dealWithEvent(e, 'focus');\n      }\n    }\n    function dealWithEvent(e, type) {\n      if (e.relatedTarget !== null && (e.relatedTarget === inputElRef.value || e.relatedTarget === inputEl2Ref.value || e.relatedTarget === textareaElRef.value || e.relatedTarget === wrapperElRef.value)) {\n        /**\n         * activeElement transfer inside the input, do nothing\n         */\n      } else {\n        if (type === 'focus') {\n          doFocus(e);\n          focusedRef.value = true;\n        } else if (type === 'blur') {\n          doBlur(e);\n          focusedRef.value = false;\n        }\n      }\n    }\n    function handleChange(e, index) {\n      handleInput(e, index, 'change');\n    }\n    function handleClick(e) {\n      doClick(e);\n    }\n    function handleClear(e) {\n      doClear(e);\n      if (props.pair) {\n        doUpdateValue(['', '']);\n        doChange(['', '']);\n      } else {\n        doUpdateValue('');\n        doChange('');\n      }\n    }\n    function handleMouseDown(e) {\n      const {\n        onMousedown\n      } = props;\n      if (onMousedown) onMousedown(e);\n      const {\n        tagName\n      } = e.target;\n      if (tagName !== 'INPUT' && tagName !== 'TEXTAREA') {\n        if (props.resizable) {\n          const {\n            value: wrapperEl\n          } = wrapperElRef;\n          if (wrapperEl) {\n            const {\n              left,\n              top,\n              width,\n              height\n            } = wrapperEl.getBoundingClientRect();\n            const resizeHandleSize = 14;\n            if (left + width - resizeHandleSize < e.clientX && e.clientX < left + width && top + height - resizeHandleSize < e.clientY && e.clientY < top + height) {\n              // touching resize handle, just let it go.\n              // resize won't take focus, maybe there is a better way to do this.\n              // hope someone can figure out a better solution\n              return;\n            }\n          }\n        }\n        e.preventDefault();\n        if (!focusedRef.value) {\n          focus();\n        }\n      }\n    }\n    function handleMouseEnter() {\n      var _a;\n      hoverRef.value = true;\n      if (props.type === 'textarea') {\n        (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.handleMouseEnterWrapper();\n      }\n    }\n    function handleMouseLeave() {\n      var _a;\n      hoverRef.value = false;\n      if (props.type === 'textarea') {\n        (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.handleMouseLeaveWrapper();\n      }\n    }\n    function handlePasswordToggleClick() {\n      if (mergedDisabledRef.value) return;\n      if (mergedShowPasswordOnRef.value !== 'click') return;\n      passwordVisibleRef.value = !passwordVisibleRef.value;\n    }\n    function handlePasswordToggleMousedown(e) {\n      if (mergedDisabledRef.value) return;\n      e.preventDefault();\n      const preventDefaultOnce = e => {\n        e.preventDefault();\n        off('mouseup', document, preventDefaultOnce);\n      };\n      on('mouseup', document, preventDefaultOnce);\n      if (mergedShowPasswordOnRef.value !== 'mousedown') return;\n      passwordVisibleRef.value = true;\n      const hidePassword = () => {\n        passwordVisibleRef.value = false;\n        off('mouseup', document, hidePassword);\n      };\n      on('mouseup', document, hidePassword);\n    }\n    function handleWrapperKeyup(e) {\n      if (props.onKeyup) call(props.onKeyup, e);\n    }\n    function handleWrapperKeydown(e) {\n      if (props.onKeydown) call(props.onKeydown, e);\n      switch (e.key) {\n        case 'Escape':\n          handleWrapperKeydownEsc();\n          break;\n        case 'Enter':\n          handleWrapperKeydownEnter(e);\n          break;\n      }\n    }\n    function handleWrapperKeydownEnter(e) {\n      var _a, _b;\n      if (props.passivelyActivated) {\n        const {\n          value: focused\n        } = activatedRef;\n        if (focused) {\n          if (props.internalDeactivateOnEnter) {\n            handleWrapperKeydownEsc();\n          }\n          return;\n        }\n        e.preventDefault();\n        if (props.type === 'textarea') {\n          (_a = textareaElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        } else {\n          (_b = inputElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n      }\n    }\n    function handleWrapperKeydownEsc() {\n      if (props.passivelyActivated) {\n        activatedRef.value = false;\n        void nextTick(() => {\n          var _a;\n          (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        });\n      }\n    }\n    function focus() {\n      var _a, _b, _c;\n      if (mergedDisabledRef.value) return;\n      if (props.passivelyActivated) {\n        (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      } else {\n        (_b = textareaElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n        (_c = inputElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n      }\n    }\n    function blur() {\n      var _a;\n      if ((_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement)) {\n        ;\n        document.activeElement.blur();\n      }\n    }\n    function select() {\n      var _a, _b;\n      (_a = textareaElRef.value) === null || _a === void 0 ? void 0 : _a.select();\n      (_b = inputElRef.value) === null || _b === void 0 ? void 0 : _b.select();\n    }\n    function activate() {\n      if (mergedDisabledRef.value) return;\n      if (textareaElRef.value) textareaElRef.value.focus();else if (inputElRef.value) inputElRef.value.focus();\n    }\n    function deactivate() {\n      const {\n        value: wrapperEl\n      } = wrapperElRef;\n      if ((wrapperEl === null || wrapperEl === void 0 ? void 0 : wrapperEl.contains(document.activeElement)) && wrapperEl !== document.activeElement) {\n        handleWrapperKeydownEsc();\n      }\n    }\n    function scrollTo(options) {\n      if (props.type === 'textarea') {\n        const {\n          value: textareaEl\n        } = textareaElRef;\n        textareaEl === null || textareaEl === void 0 ? void 0 : textareaEl.scrollTo(options);\n      } else {\n        const {\n          value: inputEl\n        } = inputElRef;\n        inputEl === null || inputEl === void 0 ? void 0 : inputEl.scrollTo(options);\n      }\n    }\n    function syncMirror(value) {\n      const {\n        type,\n        pair,\n        autosize\n      } = props;\n      if (!pair && autosize) {\n        if (type === 'textarea') {\n          const {\n            value: textareaMirrorEl\n          } = textareaMirrorElRef;\n          if (textareaMirrorEl) {\n            textareaMirrorEl.textContent = (value !== null && value !== void 0 ? value : '') + '\\r\\n';\n          }\n        } else {\n          const {\n            value: inputMirrorEl\n          } = inputMirrorElRef;\n          if (inputMirrorEl) {\n            if (value) {\n              inputMirrorEl.textContent = value;\n            } else {\n              inputMirrorEl.innerHTML = '&nbsp;';\n            }\n          }\n        }\n      }\n    }\n    function handleTextAreaMirrorResize() {\n      updateTextAreaStyle();\n    }\n    const placeholderStyleRef = ref({\n      top: '0'\n    });\n    function handleTextAreaScroll(e) {\n      var _a;\n      const {\n        scrollTop\n      } = e.target;\n      placeholderStyleRef.value.top = `${-scrollTop}px`;\n      (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.syncUnifiedContainer();\n    }\n    let stopWatchMergedValue1 = null;\n    watchEffect(() => {\n      const {\n        autosize,\n        type\n      } = props;\n      if (autosize && type === 'textarea') {\n        stopWatchMergedValue1 = watch(mergedValueRef, value => {\n          if (!Array.isArray(value) && value !== syncSource) {\n            syncMirror(value);\n          }\n        });\n      } else {\n        stopWatchMergedValue1 === null || stopWatchMergedValue1 === void 0 ? void 0 : stopWatchMergedValue1();\n      }\n    });\n    let stopWatchMergedValue2 = null;\n    watchEffect(() => {\n      if (props.type === 'textarea') {\n        stopWatchMergedValue2 = watch(mergedValueRef, value => {\n          var _a;\n          if (!Array.isArray(value) && value !== syncSource) {\n            (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.syncUnifiedContainer();\n          }\n        });\n      } else {\n        stopWatchMergedValue2 === null || stopWatchMergedValue2 === void 0 ? void 0 : stopWatchMergedValue2();\n      }\n    });\n    provide(inputInjectionKey, {\n      mergedValueRef,\n      maxlengthRef,\n      mergedClsPrefixRef,\n      countGraphemesRef: toRef(props, 'countGraphemes')\n    });\n    const exposedProps = {\n      wrapperElRef,\n      inputElRef,\n      textareaElRef,\n      isCompositing: isComposingRef,\n      focus,\n      blur,\n      select,\n      deactivate,\n      activate,\n      scrollTo\n    };\n    const rtlEnabledRef = useRtl('Input', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        value: size\n      } = mergedSizeRef;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          color,\n          borderRadius,\n          textColor,\n          caretColor,\n          caretColorError,\n          caretColorWarning,\n          textDecorationColor,\n          border,\n          borderDisabled,\n          borderHover,\n          borderFocus,\n          placeholderColor,\n          placeholderColorDisabled,\n          lineHeightTextarea,\n          colorDisabled,\n          colorFocus,\n          textColorDisabled,\n          boxShadowFocus,\n          iconSize,\n          colorFocusWarning,\n          boxShadowFocusWarning,\n          borderWarning,\n          borderFocusWarning,\n          borderHoverWarning,\n          colorFocusError,\n          boxShadowFocusError,\n          borderError,\n          borderFocusError,\n          borderHoverError,\n          clearSize,\n          clearColor,\n          clearColorHover,\n          clearColorPressed,\n          iconColor,\n          iconColorDisabled,\n          suffixTextColor,\n          countTextColor,\n          countTextColorDisabled,\n          iconColorHover,\n          iconColorPressed,\n          loadingColor,\n          loadingColorError,\n          loadingColorWarning,\n          [createKey('padding', size)]: padding,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('height', size)]: height\n        }\n      } = themeRef.value;\n      const {\n        left: paddingLeft,\n        right: paddingRight\n      } = getPadding(padding);\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-count-text-color': countTextColor,\n        '--n-count-text-color-disabled': countTextColorDisabled,\n        '--n-color': color,\n        '--n-font-size': fontSize,\n        '--n-border-radius': borderRadius,\n        '--n-height': height,\n        '--n-padding-left': paddingLeft,\n        '--n-padding-right': paddingRight,\n        '--n-text-color': textColor,\n        '--n-caret-color': caretColor,\n        '--n-text-decoration-color': textDecorationColor,\n        '--n-border': border,\n        '--n-border-disabled': borderDisabled,\n        '--n-border-hover': borderHover,\n        '--n-border-focus': borderFocus,\n        '--n-placeholder-color': placeholderColor,\n        '--n-placeholder-color-disabled': placeholderColorDisabled,\n        '--n-icon-size': iconSize,\n        '--n-line-height-textarea': lineHeightTextarea,\n        '--n-color-disabled': colorDisabled,\n        '--n-color-focus': colorFocus,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-loading-color': loadingColor,\n        // form warning\n        '--n-caret-color-warning': caretColorWarning,\n        '--n-color-focus-warning': colorFocusWarning,\n        '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n        '--n-border-warning': borderWarning,\n        '--n-border-focus-warning': borderFocusWarning,\n        '--n-border-hover-warning': borderHoverWarning,\n        '--n-loading-color-warning': loadingColorWarning,\n        // form error\n        '--n-caret-color-error': caretColorError,\n        '--n-color-focus-error': colorFocusError,\n        '--n-box-shadow-focus-error': boxShadowFocusError,\n        '--n-border-error': borderError,\n        '--n-border-focus-error': borderFocusError,\n        '--n-border-hover-error': borderHoverError,\n        '--n-loading-color-error': loadingColorError,\n        // clear-button\n        '--n-clear-color': clearColor,\n        '--n-clear-size': clearSize,\n        '--n-clear-color-hover': clearColorHover,\n        '--n-clear-color-pressed': clearColorPressed,\n        '--n-icon-color': iconColor,\n        '--n-icon-color-hover': iconColorHover,\n        '--n-icon-color-pressed': iconColorPressed,\n        '--n-icon-color-disabled': iconColorDisabled,\n        '--n-suffix-text-color': suffixTextColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('input', computed(() => {\n      const {\n        value: size\n      } = mergedSizeRef;\n      return size[0];\n    }), cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedProps), {\n      // DOM ref\n      wrapperElRef,\n      inputElRef,\n      inputMirrorElRef,\n      inputEl2Ref,\n      textareaElRef,\n      textareaMirrorElRef,\n      textareaScrollbarInstRef,\n      // value\n      rtlEnabled: rtlEnabledRef,\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      passwordVisible: passwordVisibleRef,\n      mergedPlaceholder: mergedPlaceholderRef,\n      showPlaceholder1: showPlaceholder1Ref,\n      showPlaceholder2: showPlaceholder2Ref,\n      mergedFocus: mergedFocusRef,\n      isComposing: isComposingRef,\n      activated: activatedRef,\n      showClearButton,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      textDecorationStyle: textDecorationStyleRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      mergedShowPasswordOn: mergedShowPasswordOnRef,\n      placeholderStyle: placeholderStyleRef,\n      mergedStatus: mergedStatusRef,\n      textAreaScrollContainerWidth: textAreaScrollContainerWidthRef,\n      // methods\n      handleTextAreaScroll,\n      handleCompositionStart,\n      handleCompositionEnd,\n      handleInput,\n      handleInputBlur,\n      handleInputFocus,\n      handleWrapperBlur,\n      handleWrapperFocus,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleMouseDown,\n      handleChange,\n      handleClick,\n      handleClear,\n      handlePasswordToggleClick,\n      handlePasswordToggleMousedown,\n      handleWrapperKeydown,\n      handleWrapperKeyup,\n      handleTextAreaMirrorResize,\n      getTextareaScrollContainer: () => {\n        return textareaElRef.value;\n      },\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    var _a, _b;\n    const {\n      mergedClsPrefix,\n      mergedStatus,\n      themeClass,\n      type,\n      countGraphemes,\n      onRender\n    } = this;\n    const $slots = this.$slots;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      ref: \"wrapperElRef\",\n      class: [`${mergedClsPrefix}-input`, themeClass, mergedStatus && `${mergedClsPrefix}-input--${mergedStatus}-status`, {\n        [`${mergedClsPrefix}-input--rtl`]: this.rtlEnabled,\n        [`${mergedClsPrefix}-input--disabled`]: this.mergedDisabled,\n        [`${mergedClsPrefix}-input--textarea`]: type === 'textarea',\n        [`${mergedClsPrefix}-input--resizable`]: this.resizable && !this.autosize,\n        [`${mergedClsPrefix}-input--autosize`]: this.autosize,\n        [`${mergedClsPrefix}-input--round`]: this.round && !(type === 'textarea'),\n        [`${mergedClsPrefix}-input--pair`]: this.pair,\n        [`${mergedClsPrefix}-input--focus`]: this.mergedFocus,\n        [`${mergedClsPrefix}-input--stateful`]: this.stateful\n      }],\n      style: this.cssVars,\n      tabindex: !this.mergedDisabled && this.passivelyActivated && !this.activated ? 0 : undefined,\n      onFocus: this.handleWrapperFocus,\n      onBlur: this.handleWrapperBlur,\n      onClick: this.handleClick,\n      onMousedown: this.handleMouseDown,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onCompositionstart: this.handleCompositionStart,\n      onCompositionend: this.handleCompositionEnd,\n      onKeyup: this.handleWrapperKeyup,\n      onKeydown: this.handleWrapperKeydown\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-input-wrapper`\n    }, resolveWrappedSlot($slots.prefix, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-input__prefix`\n    }, children)), type === 'textarea' ? h(NScrollbar, {\n      ref: \"textareaScrollbarInstRef\",\n      class: `${mergedClsPrefix}-input__textarea`,\n      container: this.getTextareaScrollContainer,\n      triggerDisplayManually: true,\n      useUnifiedContainer: true,\n      internalHoistYRail: true\n    }, {\n      default: () => {\n        var _a, _b;\n        const {\n          textAreaScrollContainerWidth\n        } = this;\n        const scrollContainerWidthStyle = {\n          width: this.autosize && textAreaScrollContainerWidth && `${textAreaScrollContainerWidth}px`\n        };\n        return h(Fragment, null, h(\"textarea\", Object.assign({}, this.inputProps, {\n          ref: \"textareaElRef\",\n          class: [`${mergedClsPrefix}-input__textarea-el`, (_a = this.inputProps) === null || _a === void 0 ? void 0 : _a.class],\n          autofocus: this.autofocus,\n          rows: Number(this.rows),\n          placeholder: this.placeholder,\n          value: this.mergedValue,\n          disabled: this.mergedDisabled,\n          maxlength: countGraphemes ? undefined : this.maxlength,\n          minlength: countGraphemes ? undefined : this.minlength,\n          readonly: this.readonly,\n          tabindex: this.passivelyActivated && !this.activated ? -1 : undefined,\n          style: [this.textDecorationStyle[0], (_b = this.inputProps) === null || _b === void 0 ? void 0 : _b.style, scrollContainerWidthStyle],\n          onBlur: this.handleInputBlur,\n          onFocus: e => {\n            this.handleInputFocus(e, 2);\n          },\n          onInput: this.handleInput,\n          onChange: this.handleChange,\n          onScroll: this.handleTextAreaScroll\n        })), this.showPlaceholder1 ? h(\"div\", {\n          class: `${mergedClsPrefix}-input__placeholder`,\n          style: [this.placeholderStyle, scrollContainerWidthStyle],\n          key: \"placeholder\"\n        }, this.mergedPlaceholder[0]) : null, this.autosize ? h(VResizeObserver, {\n          onResize: this.handleTextAreaMirrorResize\n        }, {\n          default: () => h(\"div\", {\n            ref: \"textareaMirrorElRef\",\n            class: `${mergedClsPrefix}-input__textarea-mirror`,\n            key: \"mirror\"\n          })\n        }) : null);\n      }\n    }) : h(\"div\", {\n      class: `${mergedClsPrefix}-input__input`\n    }, h(\"input\", Object.assign({\n      type: type === 'password' && this.mergedShowPasswordOn && this.passwordVisible ? 'text' : type\n    }, this.inputProps, {\n      ref: \"inputElRef\",\n      class: [`${mergedClsPrefix}-input__input-el`, (_a = this.inputProps) === null || _a === void 0 ? void 0 : _a.class],\n      style: [this.textDecorationStyle[0], (_b = this.inputProps) === null || _b === void 0 ? void 0 : _b.style],\n      tabindex: this.passivelyActivated && !this.activated ? -1 : undefined,\n      placeholder: this.mergedPlaceholder[0],\n      disabled: this.mergedDisabled,\n      maxlength: countGraphemes ? undefined : this.maxlength,\n      minlength: countGraphemes ? undefined : this.minlength,\n      value: Array.isArray(this.mergedValue) ? this.mergedValue[0] : this.mergedValue,\n      readonly: this.readonly,\n      autofocus: this.autofocus,\n      size: this.attrSize,\n      onBlur: this.handleInputBlur,\n      onFocus: e => {\n        this.handleInputFocus(e, 0);\n      },\n      onInput: e => {\n        this.handleInput(e, 0);\n      },\n      onChange: e => {\n        this.handleChange(e, 0);\n      }\n    })), this.showPlaceholder1 ? h(\"div\", {\n      class: `${mergedClsPrefix}-input__placeholder`\n    }, h(\"span\", null, this.mergedPlaceholder[0])) : null, this.autosize ? h(\"div\", {\n      class: `${mergedClsPrefix}-input__input-mirror`,\n      key: \"mirror\",\n      ref: \"inputMirrorElRef\"\n    }, \"\\u00A0\") : null), !this.pair && resolveWrappedSlot($slots.suffix, children => {\n      return children || this.clearable || this.showCount || this.mergedShowPasswordOn || this.loading !== undefined ? h(\"div\", {\n        class: `${mergedClsPrefix}-input__suffix`\n      }, [resolveWrappedSlot($slots['clear-icon-placeholder'], children => {\n        return (this.clearable || children) && h(NBaseClear, {\n          clsPrefix: mergedClsPrefix,\n          show: this.showClearButton,\n          onClear: this.handleClear\n        }, {\n          placeholder: () => children,\n          icon: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots)['clear-icon']) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        });\n      }), !this.internalLoadingBeforeSuffix ? children : null, this.loading !== undefined ? h(NBaseSuffix, {\n        clsPrefix: mergedClsPrefix,\n        loading: this.loading,\n        showArrow: false,\n        showClear: false,\n        style: this.cssVars\n      }) : null, this.internalLoadingBeforeSuffix ? children : null, this.showCount && this.type !== 'textarea' ? h(WordCount, null, {\n        default: props => {\n          var _a;\n          return (_a = $slots.count) === null || _a === void 0 ? void 0 : _a.call($slots, props);\n        }\n      }) : null, this.mergedShowPasswordOn && this.type === 'password' ? h(\"div\", {\n        class: `${mergedClsPrefix}-input__eye`,\n        onMousedown: this.handlePasswordToggleMousedown,\n        onClick: this.handlePasswordToggleClick\n      }, this.passwordVisible ? resolveSlot($slots['password-visible-icon'], () => [h(NBaseIcon, {\n        clsPrefix: mergedClsPrefix\n      }, {\n        default: () => h(EyeIcon, null)\n      })]) : resolveSlot($slots['password-invisible-icon'], () => [h(NBaseIcon, {\n        clsPrefix: mergedClsPrefix\n      }, {\n        default: () => h(EyeOffIcon, null)\n      })])) : null]) : null;\n    })), this.pair ? h(\"span\", {\n      class: `${mergedClsPrefix}-input__separator`\n    }, resolveSlot($slots.separator, () => [this.separator])) : null, this.pair ? h(\"div\", {\n      class: `${mergedClsPrefix}-input-wrapper`\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-input__input`\n    }, h(\"input\", {\n      ref: \"inputEl2Ref\",\n      type: this.type,\n      class: `${mergedClsPrefix}-input__input-el`,\n      tabindex: this.passivelyActivated && !this.activated ? -1 : undefined,\n      placeholder: this.mergedPlaceholder[1],\n      disabled: this.mergedDisabled,\n      maxlength: countGraphemes ? undefined : this.maxlength,\n      minlength: countGraphemes ? undefined : this.minlength,\n      value: Array.isArray(this.mergedValue) ? this.mergedValue[1] : undefined,\n      readonly: this.readonly,\n      style: this.textDecorationStyle[1],\n      onBlur: this.handleInputBlur,\n      onFocus: e => {\n        this.handleInputFocus(e, 1);\n      },\n      onInput: e => {\n        this.handleInput(e, 1);\n      },\n      onChange: e => {\n        this.handleChange(e, 1);\n      }\n    }), this.showPlaceholder2 ? h(\"div\", {\n      class: `${mergedClsPrefix}-input__placeholder`\n    }, h(\"span\", null, this.mergedPlaceholder[1])) : null), resolveWrappedSlot($slots.suffix, children => {\n      return (this.clearable || children) && h(\"div\", {\n        class: `${mergedClsPrefix}-input__suffix`\n      }, [this.clearable && h(NBaseClear, {\n        clsPrefix: mergedClsPrefix,\n        show: this.showClearButton,\n        onClear: this.handleClear\n      }, {\n        icon: () => {\n          var _a;\n          return (_a = $slots['clear-icon']) === null || _a === void 0 ? void 0 : _a.call($slots);\n        },\n        placeholder: () => {\n          var _a;\n          return (_a = $slots['clear-icon-placeholder']) === null || _a === void 0 ? void 0 : _a.call($slots);\n        }\n      }), children]);\n    })) : null, this.mergedBordered ? h(\"div\", {\n      class: `${mergedClsPrefix}-input__border`\n    }) : null, this.mergedBordered ? h(\"div\", {\n      class: `${mergedClsPrefix}-input__state-border`\n    }) : null, this.showCount && type === 'textarea' ? h(WordCount, null, {\n      default: props => {\n        var _a;\n        const {\n          renderCount\n        } = this;\n        if (renderCount) {\n          return renderCount(props);\n        }\n        return (_a = $slots.count) === null || _a === void 0 ? void 0 : _a.call($slots, props);\n      }\n    }) : null);\n  }\n});","map":{"version":3,"names":["h","computed","defineComponent","nextTick","ref","toRef","onMounted","getCurrentInstance","watch","watchEffect","provide","Fragment","useMergedState","useMemo","getPadding","VResizeObserver","off","on","isSafari","EyeIcon","EyeOffIcon","useRtl","NBaseClear","NBaseIcon","NBaseSuffix","NScrollbar","useTheme","useLocale","useFormItem","useConfig","useThemeClass","useStyle","call","createKey","resolveSlot","resolveWrappedSlot","warnOnce","inputLight","inputInjectionKey","isEmptyInputValue","useCursor","WordCount","style","safariStyle","inputProps","Object","assign","props","bordered","type","Boolean","default","undefined","String","placeholder","Array","defaultValue","value","disabled","size","rows","Number","round","minlength","maxlength","clearable","autosize","pair","separator","readonly","passivelyActivated","showPasswordOn","stateful","autofocus","resizable","showCount","loading","allowInput","Function","renderCount","onMousedown","onKeydown","onKeyup","onInput","onFocus","onBlur","onClick","onChange","onClear","countGraphemes","status","onUpdateValue","textDecoration","attrSize","onInputBlur","onInputFocus","onDeactivate","onActivate","onWrapperFocus","onWrapperBlur","internalDeactivateOnEnter","internalForceFocus","internalLoadingBeforeSuffix","showPasswordToggle","name","setup","process","env","NODE_ENV","mergedClsPrefixRef","mergedBorderedRef","inlineThemeDisabled","mergedRtlRef","themeRef","wrapperElRef","textareaElRef","textareaMirrorElRef","inputMirrorElRef","inputElRef","inputEl2Ref","currentFocusedInputRef","focusedInputCursorControl","textareaScrollbarInstRef","localeRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","formItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","focusedRef","hoverRef","isComposingRef","activatedRef","syncSource","mergedPlaceholderRef","isArray","showPlaceholder1Ref","isComposing","mergedValue","mergedPlaceholder","showPlaceholder2Ref","mergedFocusRef","showClearButton","mergedFocus","mergedShowPasswordOnRef","passwordVisibleRef","textDecorationStyleRef","map","v","textAreaScrollContainerWidthRef","updateTextAreaStyle","_a","_b","$el","offsetWidth","paddingTop","stylePaddingTop","paddingBottom","stylePaddingBottom","lineHeight","styleLineHeight","window","getComputedStyle","slice","textareaMirrorEl","minRows","Math","max","styleMinHeight","minHeight","maxRows","styleMaxHeight","maxHeight","maxlengthRef","syncMirror","vm","proxy","doUpdateValue","_onUpdateValue","nTriggerFormInput","doChange","nTriggerFormChange","doBlur","e","nTriggerFormBlur","doFocus","nTriggerFormFocus","doClear","doUpdateValueBlur","doUpdateValueFocus","doDeactivate","doActivate","doClick","doWrapperFocus","doWrapperBlur","handleCompositionStart","handleCompositionEnd","target","handleInput","index","event","targetValue","InputEvent","textareaScrollbarInst","syncUnifiedContainer","recordCursor","isIncomingValueValid","$forceUpdate","restoreCursor","graphemesCount","handleInputBlur","relatedTarget","dealWithEvent","handleInputFocus","handleWrapperBlur","handleWrapperFocus","handleChange","handleClick","handleClear","handleMouseDown","tagName","wrapperEl","left","top","width","height","getBoundingClientRect","resizeHandleSize","clientX","clientY","preventDefault","focus","handleMouseEnter","handleMouseEnterWrapper","handleMouseLeave","handleMouseLeaveWrapper","handlePasswordToggleClick","handlePasswordToggleMousedown","preventDefaultOnce","document","hidePassword","handleWrapperKeyup","handleWrapperKeydown","key","handleWrapperKeydownEsc","handleWrapperKeydownEnter","focused","_c","blur","contains","activeElement","select","activate","deactivate","scrollTo","options","textareaEl","inputEl","textContent","inputMirrorEl","innerHTML","handleTextAreaMirrorResize","placeholderStyleRef","handleTextAreaScroll","scrollTop","stopWatchMergedValue1","stopWatchMergedValue2","countGraphemesRef","exposedProps","isCompositing","rtlEnabledRef","cssVarsRef","common","cubicBezierEaseInOut","self","color","borderRadius","textColor","caretColor","caretColorError","caretColorWarning","textDecorationColor","border","borderDisabled","borderHover","borderFocus","placeholderColor","placeholderColorDisabled","lineHeightTextarea","colorDisabled","colorFocus","textColorDisabled","boxShadowFocus","iconSize","colorFocusWarning","boxShadowFocusWarning","borderWarning","borderFocusWarning","borderHoverWarning","colorFocusError","boxShadowFocusError","borderError","borderFocusError","borderHoverError","clearSize","clearColor","clearColorHover","clearColorPressed","iconColor","iconColorDisabled","suffixTextColor","countTextColor","countTextColorDisabled","iconColorHover","iconColorPressed","loadingColor","loadingColorError","loadingColorWarning","padding","fontSize","paddingLeft","right","paddingRight","themeClassHandle","rtlEnabled","uncontrolledValue","passwordVisible","showPlaceholder1","showPlaceholder2","activated","mergedSize","mergedDisabled","textDecorationStyle","mergedClsPrefix","mergedBordered","mergedShowPasswordOn","placeholderStyle","mergedStatus","textAreaScrollContainerWidth","getTextareaScrollContainer","mergedTheme","cssVars","themeClass","onRender","render","$slots","class","tabindex","onMouseenter","onMouseleave","onCompositionstart","onCompositionend","prefix","children","container","triggerDisplayManually","useUnifiedContainer","internalHoistYRail","scrollContainerWidthStyle","onScroll","onResize","suffix","clsPrefix","show","icon","showArrow","showClear","count"],"sources":["/home/whw/Vue/whwtest.github.io/node_modules/naive-ui/es/input/src/Input.js"],"sourcesContent":["import { h, computed, defineComponent, nextTick, ref, toRef, onMounted, getCurrentInstance, watch, watchEffect, provide, Fragment } from 'vue';\nimport { useMergedState, useMemo } from 'vooks';\nimport { getPadding } from 'seemly';\nimport { VResizeObserver } from 'vueuc';\nimport { off, on } from 'evtd';\nimport { isSafari } from '../../_utils/env/browser';\nimport { EyeIcon, EyeOffIcon } from '../../_internal/icons';\nimport { useRtl } from '../../_mixins/use-rtl';\nimport { NBaseClear, NBaseIcon, NBaseSuffix, NScrollbar } from '../../_internal';\nimport { useTheme, useLocale, useFormItem, useConfig, useThemeClass, useStyle } from '../../_mixins';\nimport { call, createKey, resolveSlot, resolveWrappedSlot, warnOnce } from '../../_utils';\nimport { inputLight } from '../styles';\nimport { inputInjectionKey } from './interface';\nimport { isEmptyInputValue, useCursor } from './utils';\nimport WordCount from './WordCount';\nimport style, { safariStyle } from './styles/input.cssr';\nexport const inputProps = Object.assign(Object.assign({}, useTheme.props), { bordered: {\n        type: Boolean,\n        default: undefined\n    }, type: {\n        type: String,\n        default: 'text'\n    }, placeholder: [Array, String], defaultValue: {\n        type: [String, Array],\n        default: null\n    }, value: [String, Array], disabled: {\n        type: Boolean,\n        default: undefined\n    }, size: String, rows: {\n        type: [Number, String],\n        default: 3\n    }, round: Boolean, minlength: [String, Number], maxlength: [String, Number], clearable: Boolean, autosize: {\n        type: [Boolean, Object],\n        default: false\n    }, pair: Boolean, separator: String, readonly: {\n        type: [String, Boolean],\n        default: false\n    }, passivelyActivated: Boolean, showPasswordOn: String, stateful: {\n        type: Boolean,\n        default: true\n    }, autofocus: Boolean, inputProps: Object, resizable: {\n        type: Boolean,\n        default: true\n    }, showCount: Boolean, loading: {\n        type: Boolean,\n        default: undefined\n    }, allowInput: Function, renderCount: Function, onMousedown: Function, onKeydown: Function, onKeyup: [Function, Array], onInput: [Function, Array], onFocus: [Function, Array], onBlur: [Function, Array], onClick: [Function, Array], onChange: [Function, Array], onClear: [Function, Array], countGraphemes: Function, status: String, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], \n    /** private */\n    textDecoration: [String, Array], attrSize: {\n        type: Number,\n        default: 20\n    }, onInputBlur: [Function, Array], onInputFocus: [Function, Array], onDeactivate: [Function, Array], onActivate: [Function, Array], onWrapperFocus: [Function, Array], onWrapperBlur: [Function, Array], internalDeactivateOnEnter: Boolean, internalForceFocus: Boolean, internalLoadingBeforeSuffix: {\n        type: Boolean,\n        default: true\n    }, \n    /** deprecated */\n    showPasswordToggle: Boolean });\nexport default defineComponent({\n    name: 'Input',\n    props: inputProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.showPasswordToggle) {\n                    warnOnce('input', '`show-password-toggle` is deprecated, please use `showPasswordOn=\"click\"` instead');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('Input', '-input', style, inputLight, props, mergedClsPrefixRef);\n        if (isSafari) {\n            useStyle('-input-safari', safariStyle, mergedClsPrefixRef);\n        }\n        // dom refs\n        const wrapperElRef = ref(null);\n        const textareaElRef = ref(null);\n        const textareaMirrorElRef = ref(null);\n        const inputMirrorElRef = ref(null);\n        const inputElRef = ref(null);\n        const inputEl2Ref = ref(null);\n        const currentFocusedInputRef = ref(null);\n        const focusedInputCursorControl = useCursor(currentFocusedInputRef);\n        const textareaScrollbarInstRef = ref(null);\n        // local\n        const { localeRef } = useLocale('Input');\n        // value\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        // form-item\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        // states\n        const focusedRef = ref(false);\n        const hoverRef = ref(false);\n        const isComposingRef = ref(false);\n        const activatedRef = ref(false);\n        let syncSource = null;\n        // placeholder\n        const mergedPlaceholderRef = computed(() => {\n            const { placeholder, pair } = props;\n            if (pair) {\n                if (Array.isArray(placeholder)) {\n                    return placeholder;\n                }\n                else if (placeholder === undefined) {\n                    return ['', ''];\n                }\n                return [placeholder, placeholder];\n            }\n            else if (placeholder === undefined) {\n                return [localeRef.value.placeholder];\n            }\n            else {\n                return [placeholder];\n            }\n        });\n        const showPlaceholder1Ref = computed(() => {\n            const { value: isComposing } = isComposingRef;\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedPlaceholder } = mergedPlaceholderRef;\n            return (!isComposing &&\n                (isEmptyInputValue(mergedValue) ||\n                    (Array.isArray(mergedValue) && isEmptyInputValue(mergedValue[0]))) &&\n                mergedPlaceholder[0]);\n        });\n        const showPlaceholder2Ref = computed(() => {\n            const { value: isComposing } = isComposingRef;\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedPlaceholder } = mergedPlaceholderRef;\n            return (!isComposing &&\n                mergedPlaceholder[1] &&\n                (isEmptyInputValue(mergedValue) ||\n                    (Array.isArray(mergedValue) && isEmptyInputValue(mergedValue[1]))));\n        });\n        // focus\n        const mergedFocusRef = useMemo(() => {\n            return props.internalForceFocus || focusedRef.value;\n        });\n        // clear\n        const showClearButton = useMemo(() => {\n            if (mergedDisabledRef.value ||\n                props.readonly ||\n                !props.clearable ||\n                (!mergedFocusRef.value && !hoverRef.value)) {\n                return false;\n            }\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedFocus } = mergedFocusRef;\n            if (props.pair) {\n                return (!!(Array.isArray(mergedValue) &&\n                    (mergedValue[0] || mergedValue[1])) &&\n                    (hoverRef.value || mergedFocus));\n            }\n            else {\n                return !!mergedValue && (hoverRef.value || mergedFocus);\n            }\n        });\n        // passwordVisible\n        const mergedShowPasswordOnRef = computed(() => {\n            const { showPasswordOn } = props;\n            if (showPasswordOn) {\n                return showPasswordOn;\n            }\n            if (props.showPasswordToggle)\n                return 'click';\n            return undefined;\n        });\n        const passwordVisibleRef = ref(false);\n        // text-decoration\n        const textDecorationStyleRef = computed(() => {\n            const { textDecoration } = props;\n            if (!textDecoration)\n                return ['', ''];\n            if (Array.isArray(textDecoration)) {\n                return textDecoration.map((v) => ({\n                    textDecoration: v\n                }));\n            }\n            return [\n                {\n                    textDecoration\n                }\n            ];\n        });\n        const textAreaScrollContainerWidthRef = ref(undefined);\n        // textarea autosize\n        const updateTextAreaStyle = () => {\n            var _a, _b;\n            if (props.type === 'textarea') {\n                const { autosize } = props;\n                if (autosize) {\n                    textAreaScrollContainerWidthRef.value =\n                        (_b = (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.offsetWidth;\n                }\n                if (!textareaElRef.value)\n                    return;\n                if (typeof autosize === 'boolean')\n                    return;\n                const { paddingTop: stylePaddingTop, paddingBottom: stylePaddingBottom, lineHeight: styleLineHeight } = window.getComputedStyle(textareaElRef.value);\n                const paddingTop = Number(stylePaddingTop.slice(0, -2));\n                const paddingBottom = Number(stylePaddingBottom.slice(0, -2));\n                const lineHeight = Number(styleLineHeight.slice(0, -2));\n                const { value: textareaMirrorEl } = textareaMirrorElRef;\n                if (!textareaMirrorEl)\n                    return;\n                if (autosize.minRows) {\n                    const minRows = Math.max(autosize.minRows, 1);\n                    const styleMinHeight = `${paddingTop + paddingBottom + lineHeight * minRows}px`;\n                    textareaMirrorEl.style.minHeight = styleMinHeight;\n                }\n                if (autosize.maxRows) {\n                    const styleMaxHeight = `${paddingTop + paddingBottom + lineHeight * autosize.maxRows}px`;\n                    textareaMirrorEl.style.maxHeight = styleMaxHeight;\n                }\n            }\n        };\n        // word count\n        const maxlengthRef = computed(() => {\n            const { maxlength } = props;\n            return maxlength === undefined ? undefined : Number(maxlength);\n        });\n        onMounted(() => {\n            // sync mirror if is not pair\n            const { value } = mergedValueRef;\n            if (!Array.isArray(value)) {\n                syncMirror(value);\n            }\n        });\n        // other methods\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const vm = getCurrentInstance().proxy;\n        function doUpdateValue(value) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue, onInput } = props;\n            const { nTriggerFormInput } = formItem;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            if (onInput)\n                call(onInput, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n        }\n        function doChange(value) {\n            const { onChange } = props;\n            const { nTriggerFormChange } = formItem;\n            if (onChange)\n                call(onChange, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doFocus(e) {\n            const { onFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear, e);\n        }\n        function doUpdateValueBlur(e) {\n            const { onInputBlur } = props;\n            if (onInputBlur)\n                call(onInputBlur, e);\n        }\n        function doUpdateValueFocus(e) {\n            const { onInputFocus } = props;\n            if (onInputFocus)\n                call(onInputFocus, e);\n        }\n        function doDeactivate() {\n            const { onDeactivate } = props;\n            if (onDeactivate)\n                call(onDeactivate);\n        }\n        function doActivate() {\n            const { onActivate } = props;\n            if (onActivate)\n                call(onActivate);\n        }\n        function doClick(e) {\n            const { onClick } = props;\n            if (onClick)\n                call(onClick, e);\n        }\n        function doWrapperFocus(e) {\n            const { onWrapperFocus } = props;\n            if (onWrapperFocus)\n                call(onWrapperFocus, e);\n        }\n        function doWrapperBlur(e) {\n            const { onWrapperBlur } = props;\n            if (onWrapperBlur)\n                call(onWrapperBlur, e);\n        }\n        // methods\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd(e) {\n            isComposingRef.value = false;\n            if (e.target === inputEl2Ref.value) {\n                handleInput(e, 1);\n            }\n            else {\n                handleInput(e, 0);\n            }\n        }\n        function handleInput(e, index = 0, event = 'input') {\n            const targetValue = e.target.value;\n            syncMirror(targetValue);\n            if (e instanceof InputEvent && !e.isComposing) {\n                isComposingRef.value = false;\n            }\n            if (props.type === 'textarea') {\n                const { value: textareaScrollbarInst } = textareaScrollbarInstRef;\n                if (textareaScrollbarInst) {\n                    textareaScrollbarInst.syncUnifiedContainer();\n                }\n            }\n            syncSource = targetValue;\n            if (isComposingRef.value)\n                return;\n            focusedInputCursorControl.recordCursor();\n            const isIncomingValueValid = allowInput(targetValue);\n            if (isIncomingValueValid) {\n                if (!props.pair) {\n                    event === 'input' ? doUpdateValue(targetValue) : doChange(targetValue);\n                }\n                else {\n                    let { value } = mergedValueRef;\n                    if (!Array.isArray(value)) {\n                        value = ['', ''];\n                    }\n                    else {\n                        value = [value[0], value[1]];\n                    }\n                    value[index] = targetValue;\n                    event === 'input' ? doUpdateValue(value) : doChange(value);\n                }\n            }\n            // force update to sync input's view with value\n            // if not set, after input, input value won't sync with dom input value\n            vm.$forceUpdate();\n            if (!isIncomingValueValid) {\n                void nextTick(focusedInputCursorControl.restoreCursor);\n            }\n        }\n        function allowInput(value) {\n            const { countGraphemes, maxlength, minlength } = props;\n            if (countGraphemes) {\n                let graphemesCount;\n                if (maxlength !== undefined) {\n                    if (graphemesCount === undefined) {\n                        graphemesCount = countGraphemes(value);\n                    }\n                    if (graphemesCount > Number(maxlength))\n                        return false;\n                }\n                if (minlength !== undefined) {\n                    if (graphemesCount === undefined) {\n                        graphemesCount = countGraphemes(value);\n                    }\n                    if (graphemesCount < Number(maxlength))\n                        return false;\n                }\n            }\n            const { allowInput } = props;\n            if (typeof allowInput === 'function') {\n                return allowInput(value);\n            }\n            return true;\n        }\n        function handleInputBlur(e) {\n            doUpdateValueBlur(e);\n            if (e.relatedTarget === wrapperElRef.value) {\n                doDeactivate();\n            }\n            if (!(e.relatedTarget !== null &&\n                (e.relatedTarget === inputElRef.value ||\n                    e.relatedTarget === inputEl2Ref.value ||\n                    e.relatedTarget === textareaElRef.value))) {\n                activatedRef.value = false;\n            }\n            dealWithEvent(e, 'blur');\n            currentFocusedInputRef.value = null;\n        }\n        function handleInputFocus(e, index) {\n            doUpdateValueFocus(e);\n            focusedRef.value = true;\n            activatedRef.value = true;\n            doActivate();\n            dealWithEvent(e, 'focus');\n            if (index === 0) {\n                currentFocusedInputRef.value = inputElRef.value;\n            }\n            else if (index === 1) {\n                currentFocusedInputRef.value = inputEl2Ref.value;\n            }\n            else if (index === 2) {\n                currentFocusedInputRef.value = textareaElRef.value;\n            }\n        }\n        function handleWrapperBlur(e) {\n            if (props.passivelyActivated) {\n                doWrapperBlur(e);\n                dealWithEvent(e, 'blur');\n            }\n        }\n        function handleWrapperFocus(e) {\n            if (props.passivelyActivated) {\n                focusedRef.value = true;\n                doWrapperFocus(e);\n                dealWithEvent(e, 'focus');\n            }\n        }\n        function dealWithEvent(e, type) {\n            if (e.relatedTarget !== null &&\n                (e.relatedTarget === inputElRef.value ||\n                    e.relatedTarget === inputEl2Ref.value ||\n                    e.relatedTarget === textareaElRef.value ||\n                    e.relatedTarget === wrapperElRef.value)) {\n                /**\n                 * activeElement transfer inside the input, do nothing\n                 */\n            }\n            else {\n                if (type === 'focus') {\n                    doFocus(e);\n                    focusedRef.value = true;\n                }\n                else if (type === 'blur') {\n                    doBlur(e);\n                    focusedRef.value = false;\n                }\n            }\n        }\n        function handleChange(e, index) {\n            handleInput(e, index, 'change');\n        }\n        function handleClick(e) {\n            doClick(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n            if (props.pair) {\n                doUpdateValue(['', '']);\n                doChange(['', '']);\n            }\n            else {\n                doUpdateValue('');\n                doChange('');\n            }\n        }\n        function handleMouseDown(e) {\n            const { onMousedown } = props;\n            if (onMousedown)\n                onMousedown(e);\n            const { tagName } = e.target;\n            if (tagName !== 'INPUT' && tagName !== 'TEXTAREA') {\n                if (props.resizable) {\n                    const { value: wrapperEl } = wrapperElRef;\n                    if (wrapperEl) {\n                        const { left, top, width, height } = wrapperEl.getBoundingClientRect();\n                        const resizeHandleSize = 14;\n                        if (left + width - resizeHandleSize < e.clientX &&\n                            e.clientX < left + width &&\n                            top + height - resizeHandleSize < e.clientY &&\n                            e.clientY < top + height) {\n                            // touching resize handle, just let it go.\n                            // resize won't take focus, maybe there is a better way to do this.\n                            // hope someone can figure out a better solution\n                            return;\n                        }\n                    }\n                }\n                e.preventDefault();\n                if (!focusedRef.value) {\n                    focus();\n                }\n            }\n        }\n        function handleMouseEnter() {\n            var _a;\n            hoverRef.value = true;\n            if (props.type === 'textarea') {\n                (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.handleMouseEnterWrapper();\n            }\n        }\n        function handleMouseLeave() {\n            var _a;\n            hoverRef.value = false;\n            if (props.type === 'textarea') {\n                (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.handleMouseLeaveWrapper();\n            }\n        }\n        function handlePasswordToggleClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (mergedShowPasswordOnRef.value !== 'click')\n                return;\n            passwordVisibleRef.value = !passwordVisibleRef.value;\n        }\n        function handlePasswordToggleMousedown(e) {\n            if (mergedDisabledRef.value)\n                return;\n            e.preventDefault();\n            const preventDefaultOnce = (e) => {\n                e.preventDefault();\n                off('mouseup', document, preventDefaultOnce);\n            };\n            on('mouseup', document, preventDefaultOnce);\n            if (mergedShowPasswordOnRef.value !== 'mousedown')\n                return;\n            passwordVisibleRef.value = true;\n            const hidePassword = () => {\n                passwordVisibleRef.value = false;\n                off('mouseup', document, hidePassword);\n            };\n            on('mouseup', document, hidePassword);\n        }\n        function handleWrapperKeyup(e) {\n            if (props.onKeyup)\n                call(props.onKeyup, e);\n        }\n        function handleWrapperKeydown(e) {\n            if (props.onKeydown)\n                call(props.onKeydown, e);\n            switch (e.key) {\n                case 'Escape':\n                    handleWrapperKeydownEsc();\n                    break;\n                case 'Enter':\n                    handleWrapperKeydownEnter(e);\n                    break;\n            }\n        }\n        function handleWrapperKeydownEnter(e) {\n            var _a, _b;\n            if (props.passivelyActivated) {\n                const { value: focused } = activatedRef;\n                if (focused) {\n                    if (props.internalDeactivateOnEnter) {\n                        handleWrapperKeydownEsc();\n                    }\n                    return;\n                }\n                e.preventDefault();\n                if (props.type === 'textarea') {\n                    (_a = textareaElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n                else {\n                    (_b = inputElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n                }\n            }\n        }\n        function handleWrapperKeydownEsc() {\n            if (props.passivelyActivated) {\n                activatedRef.value = false;\n                void nextTick(() => {\n                    var _a;\n                    (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n                });\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (mergedDisabledRef.value)\n                return;\n            if (props.passivelyActivated) {\n                (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else {\n                (_b = textareaElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n                (_c = inputElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function blur() {\n            var _a;\n            if ((_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement)) {\n                ;\n                document.activeElement.blur();\n            }\n        }\n        function select() {\n            var _a, _b;\n            (_a = textareaElRef.value) === null || _a === void 0 ? void 0 : _a.select();\n            (_b = inputElRef.value) === null || _b === void 0 ? void 0 : _b.select();\n        }\n        function activate() {\n            if (mergedDisabledRef.value)\n                return;\n            if (textareaElRef.value)\n                textareaElRef.value.focus();\n            else if (inputElRef.value)\n                inputElRef.value.focus();\n        }\n        function deactivate() {\n            const { value: wrapperEl } = wrapperElRef;\n            if ((wrapperEl === null || wrapperEl === void 0 ? void 0 : wrapperEl.contains(document.activeElement)) &&\n                wrapperEl !== document.activeElement) {\n                handleWrapperKeydownEsc();\n            }\n        }\n        function scrollTo(options) {\n            if (props.type === 'textarea') {\n                const { value: textareaEl } = textareaElRef;\n                textareaEl === null || textareaEl === void 0 ? void 0 : textareaEl.scrollTo(options);\n            }\n            else {\n                const { value: inputEl } = inputElRef;\n                inputEl === null || inputEl === void 0 ? void 0 : inputEl.scrollTo(options);\n            }\n        }\n        function syncMirror(value) {\n            const { type, pair, autosize } = props;\n            if (!pair && autosize) {\n                if (type === 'textarea') {\n                    const { value: textareaMirrorEl } = textareaMirrorElRef;\n                    if (textareaMirrorEl) {\n                        textareaMirrorEl.textContent = (value !== null && value !== void 0 ? value : '') + '\\r\\n';\n                    }\n                }\n                else {\n                    const { value: inputMirrorEl } = inputMirrorElRef;\n                    if (inputMirrorEl) {\n                        if (value) {\n                            inputMirrorEl.textContent = value;\n                        }\n                        else {\n                            inputMirrorEl.innerHTML = '&nbsp;';\n                        }\n                    }\n                }\n            }\n        }\n        function handleTextAreaMirrorResize() {\n            updateTextAreaStyle();\n        }\n        const placeholderStyleRef = ref({\n            top: '0'\n        });\n        function handleTextAreaScroll(e) {\n            var _a;\n            const { scrollTop } = e.target;\n            placeholderStyleRef.value.top = `${-scrollTop}px`;\n            (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.syncUnifiedContainer();\n        }\n        let stopWatchMergedValue1 = null;\n        watchEffect(() => {\n            const { autosize, type } = props;\n            if (autosize && type === 'textarea') {\n                stopWatchMergedValue1 = watch(mergedValueRef, (value) => {\n                    if (!Array.isArray(value) && value !== syncSource) {\n                        syncMirror(value);\n                    }\n                });\n            }\n            else {\n                stopWatchMergedValue1 === null || stopWatchMergedValue1 === void 0 ? void 0 : stopWatchMergedValue1();\n            }\n        });\n        let stopWatchMergedValue2 = null;\n        watchEffect(() => {\n            if (props.type === 'textarea') {\n                stopWatchMergedValue2 = watch(mergedValueRef, (value) => {\n                    var _a;\n                    if (!Array.isArray(value) && value !== syncSource) {\n                        (_a = textareaScrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.syncUnifiedContainer();\n                    }\n                });\n            }\n            else {\n                stopWatchMergedValue2 === null || stopWatchMergedValue2 === void 0 ? void 0 : stopWatchMergedValue2();\n            }\n        });\n        provide(inputInjectionKey, {\n            mergedValueRef,\n            maxlengthRef,\n            mergedClsPrefixRef,\n            countGraphemesRef: toRef(props, 'countGraphemes')\n        });\n        const exposedProps = {\n            wrapperElRef,\n            inputElRef,\n            textareaElRef,\n            isCompositing: isComposingRef,\n            focus,\n            blur,\n            select,\n            deactivate,\n            activate,\n            scrollTo\n        };\n        const rtlEnabledRef = useRtl('Input', mergedRtlRef, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { value: size } = mergedSizeRef;\n            const { common: { cubicBezierEaseInOut }, self: { color, borderRadius, textColor, caretColor, caretColorError, caretColorWarning, textDecorationColor, border, borderDisabled, borderHover, borderFocus, placeholderColor, placeholderColorDisabled, lineHeightTextarea, colorDisabled, colorFocus, textColorDisabled, boxShadowFocus, iconSize, colorFocusWarning, boxShadowFocusWarning, borderWarning, borderFocusWarning, borderHoverWarning, colorFocusError, boxShadowFocusError, borderError, borderFocusError, borderHoverError, clearSize, clearColor, clearColorHover, clearColorPressed, iconColor, iconColorDisabled, suffixTextColor, countTextColor, countTextColorDisabled, iconColorHover, iconColorPressed, loadingColor, loadingColorError, loadingColorWarning, [createKey('padding', size)]: padding, [createKey('fontSize', size)]: fontSize, [createKey('height', size)]: height } } = themeRef.value;\n            const { left: paddingLeft, right: paddingRight } = getPadding(padding);\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-count-text-color': countTextColor,\n                '--n-count-text-color-disabled': countTextColorDisabled,\n                '--n-color': color,\n                '--n-font-size': fontSize,\n                '--n-border-radius': borderRadius,\n                '--n-height': height,\n                '--n-padding-left': paddingLeft,\n                '--n-padding-right': paddingRight,\n                '--n-text-color': textColor,\n                '--n-caret-color': caretColor,\n                '--n-text-decoration-color': textDecorationColor,\n                '--n-border': border,\n                '--n-border-disabled': borderDisabled,\n                '--n-border-hover': borderHover,\n                '--n-border-focus': borderFocus,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-icon-size': iconSize,\n                '--n-line-height-textarea': lineHeightTextarea,\n                '--n-color-disabled': colorDisabled,\n                '--n-color-focus': colorFocus,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-caret-color-warning': caretColorWarning,\n                '--n-color-focus-warning': colorFocusWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-loading-color-warning': loadingColorWarning,\n                // form error\n                '--n-caret-color-error': caretColorError,\n                '--n-color-focus-error': colorFocusError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-loading-color-error': loadingColorError,\n                // clear-button\n                '--n-clear-color': clearColor,\n                '--n-clear-size': clearSize,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                '--n-icon-color': iconColor,\n                '--n-icon-color-hover': iconColorHover,\n                '--n-icon-color-pressed': iconColorPressed,\n                '--n-icon-color-disabled': iconColorDisabled,\n                '--n-suffix-text-color': suffixTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('input', computed(() => {\n                const { value: size } = mergedSizeRef;\n                return size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedProps), { \n            // DOM ref\n            wrapperElRef,\n            inputElRef,\n            inputMirrorElRef,\n            inputEl2Ref,\n            textareaElRef,\n            textareaMirrorElRef,\n            textareaScrollbarInstRef, \n            // value\n            rtlEnabled: rtlEnabledRef, uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, passwordVisible: passwordVisibleRef, mergedPlaceholder: mergedPlaceholderRef, showPlaceholder1: showPlaceholder1Ref, showPlaceholder2: showPlaceholder2Ref, mergedFocus: mergedFocusRef, isComposing: isComposingRef, activated: activatedRef, showClearButton, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, textDecorationStyle: textDecorationStyleRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, mergedShowPasswordOn: mergedShowPasswordOnRef, placeholderStyle: placeholderStyleRef, mergedStatus: mergedStatusRef, textAreaScrollContainerWidth: textAreaScrollContainerWidthRef, \n            // methods\n            handleTextAreaScroll,\n            handleCompositionStart,\n            handleCompositionEnd,\n            handleInput,\n            handleInputBlur,\n            handleInputFocus,\n            handleWrapperBlur,\n            handleWrapperFocus,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleMouseDown,\n            handleChange,\n            handleClick,\n            handleClear,\n            handlePasswordToggleClick,\n            handlePasswordToggleMousedown,\n            handleWrapperKeydown,\n            handleWrapperKeyup,\n            handleTextAreaMirrorResize, getTextareaScrollContainer: () => {\n                return textareaElRef.value;\n            }, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, mergedStatus, themeClass, type, countGraphemes, onRender } = this;\n        const $slots = this.$slots;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { ref: \"wrapperElRef\", class: [\n                `${mergedClsPrefix}-input`,\n                themeClass,\n                mergedStatus && `${mergedClsPrefix}-input--${mergedStatus}-status`,\n                {\n                    [`${mergedClsPrefix}-input--rtl`]: this.rtlEnabled,\n                    [`${mergedClsPrefix}-input--disabled`]: this.mergedDisabled,\n                    [`${mergedClsPrefix}-input--textarea`]: type === 'textarea',\n                    [`${mergedClsPrefix}-input--resizable`]: this.resizable && !this.autosize,\n                    [`${mergedClsPrefix}-input--autosize`]: this.autosize,\n                    [`${mergedClsPrefix}-input--round`]: this.round && !(type === 'textarea'),\n                    [`${mergedClsPrefix}-input--pair`]: this.pair,\n                    [`${mergedClsPrefix}-input--focus`]: this.mergedFocus,\n                    [`${mergedClsPrefix}-input--stateful`]: this.stateful\n                }\n            ], style: this.cssVars, tabindex: !this.mergedDisabled && this.passivelyActivated && !this.activated\n                ? 0\n                : undefined, onFocus: this.handleWrapperFocus, onBlur: this.handleWrapperBlur, onClick: this.handleClick, onMousedown: this.handleMouseDown, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd, onKeyup: this.handleWrapperKeyup, onKeydown: this.handleWrapperKeydown },\n            h(\"div\", { class: `${mergedClsPrefix}-input-wrapper` },\n                resolveWrappedSlot($slots.prefix, (children) => children && (h(\"div\", { class: `${mergedClsPrefix}-input__prefix` }, children))),\n                type === 'textarea' ? (h(NScrollbar, { ref: \"textareaScrollbarInstRef\", class: `${mergedClsPrefix}-input__textarea`, container: this.getTextareaScrollContainer, triggerDisplayManually: true, useUnifiedContainer: true, internalHoistYRail: true }, {\n                    default: () => {\n                        var _a, _b;\n                        const { textAreaScrollContainerWidth } = this;\n                        const scrollContainerWidthStyle = {\n                            width: this.autosize &&\n                                textAreaScrollContainerWidth &&\n                                `${textAreaScrollContainerWidth}px`\n                        };\n                        return (h(Fragment, null,\n                            h(\"textarea\", Object.assign({}, this.inputProps, { ref: \"textareaElRef\", class: [\n                                    `${mergedClsPrefix}-input__textarea-el`,\n                                    (_a = this.inputProps) === null || _a === void 0 ? void 0 : _a.class\n                                ], autofocus: this.autofocus, rows: Number(this.rows), placeholder: this.placeholder, value: this.mergedValue, disabled: this.mergedDisabled, maxlength: countGraphemes ? undefined : this.maxlength, minlength: countGraphemes ? undefined : this.minlength, readonly: this.readonly, tabindex: this.passivelyActivated && !this.activated\n                                    ? -1\n                                    : undefined, style: [\n                                    this.textDecorationStyle[0],\n                                    (_b = this.inputProps) === null || _b === void 0 ? void 0 : _b.style,\n                                    scrollContainerWidthStyle\n                                ], onBlur: this.handleInputBlur, onFocus: (e) => {\n                                    this.handleInputFocus(e, 2);\n                                }, onInput: this.handleInput, onChange: this.handleChange, onScroll: this.handleTextAreaScroll })),\n                            this.showPlaceholder1 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder`, style: [\n                                    this.placeholderStyle,\n                                    scrollContainerWidthStyle\n                                ], key: \"placeholder\" }, this.mergedPlaceholder[0])) : null,\n                            this.autosize ? (h(VResizeObserver, { onResize: this.handleTextAreaMirrorResize }, {\n                                default: () => (h(\"div\", { ref: \"textareaMirrorElRef\", class: `${mergedClsPrefix}-input__textarea-mirror`, key: \"mirror\" }))\n                            })) : null));\n                    }\n                })) : (h(\"div\", { class: `${mergedClsPrefix}-input__input` },\n                    h(\"input\", Object.assign({ type: type === 'password' &&\n                            this.mergedShowPasswordOn &&\n                            this.passwordVisible\n                            ? 'text'\n                            : type }, this.inputProps, { ref: \"inputElRef\", class: [\n                            `${mergedClsPrefix}-input__input-el`,\n                            (_a = this.inputProps) === null || _a === void 0 ? void 0 : _a.class\n                        ], style: [\n                            this.textDecorationStyle[0],\n                            (_b = this.inputProps) === null || _b === void 0 ? void 0 : _b.style\n                        ], tabindex: this.passivelyActivated && !this.activated ? -1 : undefined, placeholder: this.mergedPlaceholder[0], disabled: this.mergedDisabled, maxlength: countGraphemes ? undefined : this.maxlength, minlength: countGraphemes ? undefined : this.minlength, value: Array.isArray(this.mergedValue)\n                            ? this.mergedValue[0]\n                            : this.mergedValue, readonly: this.readonly, autofocus: this.autofocus, size: this.attrSize, onBlur: this.handleInputBlur, onFocus: (e) => {\n                            this.handleInputFocus(e, 0);\n                        }, onInput: (e) => {\n                            this.handleInput(e, 0);\n                        }, onChange: (e) => {\n                            this.handleChange(e, 0);\n                        } })),\n                    this.showPlaceholder1 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder` },\n                        h(\"span\", null, this.mergedPlaceholder[0]))) : null,\n                    this.autosize ? (h(\"div\", { class: `${mergedClsPrefix}-input__input-mirror`, key: \"mirror\", ref: \"inputMirrorElRef\" }, \"\\u00A0\")) : null)),\n                !this.pair &&\n                    resolveWrappedSlot($slots.suffix, (children) => {\n                        return children ||\n                            this.clearable ||\n                            this.showCount ||\n                            this.mergedShowPasswordOn ||\n                            this.loading !== undefined ? (h(\"div\", { class: `${mergedClsPrefix}-input__suffix` }, [\n                            resolveWrappedSlot($slots['clear-icon-placeholder'], (children) => {\n                                return ((this.clearable || children) && (h(NBaseClear, { clsPrefix: mergedClsPrefix, show: this.showClearButton, onClear: this.handleClear }, {\n                                    placeholder: () => children,\n                                    icon: () => { var _a, _b; return (_b = (_a = this.$slots)['clear-icon']) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                                })));\n                            }),\n                            !this.internalLoadingBeforeSuffix ? children : null,\n                            this.loading !== undefined ? (h(NBaseSuffix, { clsPrefix: mergedClsPrefix, loading: this.loading, showArrow: false, showClear: false, style: this.cssVars })) : null,\n                            this.internalLoadingBeforeSuffix ? children : null,\n                            this.showCount && this.type !== 'textarea' ? (h(WordCount, null, {\n                                default: (props) => { var _a; return (_a = $slots.count) === null || _a === void 0 ? void 0 : _a.call($slots, props); }\n                            })) : null,\n                            this.mergedShowPasswordOn && this.type === 'password' ? (h(\"div\", { class: `${mergedClsPrefix}-input__eye`, onMousedown: this.handlePasswordToggleMousedown, onClick: this.handlePasswordToggleClick }, this.passwordVisible\n                                ? resolveSlot($slots['password-visible-icon'], () => [\n                                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: () => h(EyeIcon, null) })\n                                ])\n                                : resolveSlot($slots['password-invisible-icon'], () => [\n                                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: () => h(EyeOffIcon, null) })\n                                ]))) : null\n                        ])) : null;\n                    })),\n            this.pair ? (h(\"span\", { class: `${mergedClsPrefix}-input__separator` }, resolveSlot($slots.separator, () => [this.separator]))) : null,\n            this.pair ? (h(\"div\", { class: `${mergedClsPrefix}-input-wrapper` },\n                h(\"div\", { class: `${mergedClsPrefix}-input__input` },\n                    h(\"input\", { ref: \"inputEl2Ref\", type: this.type, class: `${mergedClsPrefix}-input__input-el`, tabindex: this.passivelyActivated && !this.activated ? -1 : undefined, placeholder: this.mergedPlaceholder[1], disabled: this.mergedDisabled, maxlength: countGraphemes ? undefined : this.maxlength, minlength: countGraphemes ? undefined : this.minlength, value: Array.isArray(this.mergedValue)\n                            ? this.mergedValue[1]\n                            : undefined, readonly: this.readonly, style: this.textDecorationStyle[1], onBlur: this.handleInputBlur, onFocus: (e) => {\n                            this.handleInputFocus(e, 1);\n                        }, onInput: (e) => {\n                            this.handleInput(e, 1);\n                        }, onChange: (e) => {\n                            this.handleChange(e, 1);\n                        } }),\n                    this.showPlaceholder2 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder` },\n                        h(\"span\", null, this.mergedPlaceholder[1]))) : null),\n                resolveWrappedSlot($slots.suffix, (children) => {\n                    return ((this.clearable || children) && (h(\"div\", { class: `${mergedClsPrefix}-input__suffix` }, [\n                        this.clearable && (h(NBaseClear, { clsPrefix: mergedClsPrefix, show: this.showClearButton, onClear: this.handleClear }, {\n                            icon: () => { var _a; return (_a = $slots['clear-icon']) === null || _a === void 0 ? void 0 : _a.call($slots); },\n                            placeholder: () => { var _a; return (_a = $slots['clear-icon-placeholder']) === null || _a === void 0 ? void 0 : _a.call($slots); }\n                        })),\n                        children\n                    ])));\n                }))) : null,\n            this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-input__border` })) : null,\n            this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-input__state-border` })) : null,\n            this.showCount && type === 'textarea' ? (h(WordCount, null, {\n                default: (props) => {\n                    var _a;\n                    const { renderCount } = this;\n                    if (renderCount) {\n                        return renderCount(props);\n                    }\n                    return (_a = $slots.count) === null || _a === void 0 ? void 0 : _a.call($slots, props);\n                }\n            })) : null));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}